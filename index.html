<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
<style>
    .contain {
      position: relative;
      width: 100%;
      height: 50px;
      background: #f0f0f0;
      overflow: hidden;
    }
  
    .danmaku {
      position: absolute;
      white-space: nowrap;
      top: 50%;
      transform: translateY(-50%);
      font-size: 14px;
      color: #333;
      animation: moveLeft 15s linear forwards;
    }
  
    .danmaku.paused {
      animation-play-state: paused;
    }
  
    @keyframes moveLeft {
      from {
        left: 100%;
      }
      to {
        left: -100%;
      }
    }
  </style>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.svg">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.svg">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
<meta name="baidu_union_verify" content="4c95743ab0ae1a7dcfbc5c20c004854b">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5759478238863308"
     crossorigin="anonymous"></script>

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic|Source Code Pro:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"lidyaqf.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"livere","storage":true,"lazyload":false,"nav":null,"activeClass":"livere"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"manual","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>






  <meta name="description" content="服人以诚不以言">
<meta property="og:type" content="website">
<meta property="og:title" content="枫叶白">
<meta property="og:url" content="https://lidyaqf.github.io/index.html">
<meta property="og:site_name" content="枫叶白">
<meta property="og:description" content="服人以诚不以言">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="lidya">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://lidyaqf.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>枫叶白</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">枫叶白</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-english">

    <a href="/ening" rel="section"><i class="fa fa-language fa-fw"></i>English</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lidyaqf.github.io/2025/08/14/Hexo-Next-%E6%9B%B4%E6%94%B9%E5%AD%97%E4%BD%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="lidya">
      <meta itemprop="description" content="服人以诚不以言">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫叶白">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/08/14/Hexo-Next-%E6%9B%B4%E6%94%B9%E5%AD%97%E4%BD%93/" class="post-title-link" itemprop="url">Hexo-Next-更改字体、代码可复制</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2025-08-14 00:00:00 / 修改时间：10:30:41" itemprop="dateCreated datePublished" datetime="2025-08-14T00:00:00+08:00">2025-08-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Next版本为7.8.0，找到 &#x2F;themes&#x2F;next&#x2F;_config.yml 文件，搜索 font 关键词，这里注意一定要将 font 里面的 enable 设置为true, 因为默认为false，然后设置 family 为自己想要的，如果family在其他平台找的，就需要修改host。(只是修改了family， 没修改enable就会不生效，所以一定一定要记得)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">font</span>:</span><br><span class="line">  <span class="attr">enable</span>: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  # <span class="title class_">Uri</span> <span class="keyword">of</span> fonts host, e.<span class="property">g</span>. <span class="attr">https</span>:<span class="comment">//fonts.googleapis.com (Default).</span></span><br><span class="line">  <span class="attr">host</span>: </span><br><span class="line"></span><br><span class="line">  # <span class="title class_">Font</span> <span class="attr">options</span>:</span><br><span class="line">  # <span class="string">`external: true`</span> will load <span class="variable language_">this</span> font family <span class="keyword">from</span> <span class="string">`host`</span> above.</span><br><span class="line">  # <span class="string">`family: Times New Roman`</span>. <span class="title class_">Without</span> any quotes.</span><br><span class="line">  # <span class="string">`size: x.x`</span>. <span class="title class_">Use</span> <span class="string">`em`</span> <span class="keyword">as</span> unit. <span class="title class_">Default</span>: <span class="number">1</span> (16px)</span><br><span class="line"></span><br><span class="line">  # <span class="title class_">Global</span> font settings used <span class="keyword">for</span> all elements inside &lt;body&gt;.</span><br><span class="line">  <span class="attr">global</span>:</span><br><span class="line">    <span class="attr">external</span>: <span class="literal">true</span></span><br><span class="line">    <span class="attr">family</span>: <span class="title class_">Noto</span> <span class="title class_">Serif</span> <span class="variable constant_">SC</span></span><br><span class="line">    <span class="attr">size</span>:</span><br><span class="line"></span><br><span class="line">  # <span class="title class_">Font</span> settings <span class="keyword">for</span> site <span class="title function_">title</span> (.<span class="property">site</span>-title).</span><br><span class="line">  <span class="attr">title</span>:</span><br><span class="line">    <span class="attr">external</span>: <span class="literal">true</span></span><br><span class="line">    <span class="attr">family</span>: <span class="title class_">Noto</span> <span class="title class_">Serif</span> <span class="variable constant_">SC</span></span><br><span class="line">    <span class="attr">size</span>:</span><br><span class="line"></span><br><span class="line">  # <span class="title class_">Font</span> settings <span class="keyword">for</span> <span class="title function_">headlines</span> (&lt;h1&gt; to &lt;h6&gt;).</span><br><span class="line">  <span class="attr">headings</span>:</span><br><span class="line">    <span class="attr">external</span>: <span class="literal">true</span></span><br><span class="line">    <span class="attr">family</span>: <span class="title class_">Noto</span> <span class="title class_">Serif</span> <span class="variable constant_">SC</span></span><br><span class="line">    <span class="attr">size</span>:</span><br><span class="line"></span><br><span class="line">  # <span class="title class_">Font</span> settings <span class="keyword">for</span> <span class="title function_">posts</span> (.<span class="property">post</span>-body).</span><br><span class="line">  <span class="attr">posts</span>:</span><br><span class="line">    <span class="attr">external</span>: <span class="literal">true</span></span><br><span class="line">    <span class="attr">family</span>:  <span class="title class_">Noto</span> <span class="title class_">Serif</span> <span class="variable constant_">SC</span></span><br><span class="line"></span><br><span class="line">  # <span class="title class_">Font</span> settings <span class="keyword">for</span> &lt;code&gt; and code blocks.</span><br><span class="line">  <span class="attr">codes</span>:</span><br><span class="line">    <span class="attr">external</span>: <span class="literal">true</span></span><br><span class="line">    <span class="attr">family</span>: <span class="title class_">Source</span> <span class="title class_">Code</span> <span class="title class_">Pro</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>代码可复制，还是上面同一个文件，找到以下代码段，将copy_button的enable设置为true，启用就可以啦。show_result设置true后，复制完会显示一个勾。style对应的copy_button不同的样式，看个人喜好来～</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">codeblock</span>:</span><br><span class="line">  # <span class="title class_">Code</span> <span class="title class_">Highlight</span> theme</span><br><span class="line">  # <span class="title class_">Available</span> <span class="attr">values</span>: normal | night | night eighties | night blue | night bright | solarized | solarized dark | galactic</span><br><span class="line">  # <span class="title class_">See</span>: <span class="attr">https</span>:<span class="comment">//github.com/chriskempson/tomorrow-theme</span></span><br><span class="line">  <span class="attr">highlight_theme</span>: night eighties</span><br><span class="line">  # <span class="title class_">Add</span> copy button on codeblock</span><br><span class="line">  <span class="attr">copy_button</span>:</span><br><span class="line">    <span class="attr">enable</span>: <span class="literal">true</span></span><br><span class="line">    # <span class="title class_">Show</span> text copy result.</span><br><span class="line">    <span class="attr">show_result</span>: <span class="literal">true</span></span><br><span class="line">    # <span class="title class_">Available</span> <span class="attr">values</span>: <span class="keyword">default</span> | flat | mac</span><br><span class="line">    <span class="attr">style</span>: mac</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lidyaqf.github.io/2025/08/13/%E5%A6%82%E4%BD%95%E8%84%B1%E7%A6%BB%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="lidya">
      <meta itemprop="description" content="服人以诚不以言">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫叶白">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/08/13/%E5%A6%82%E4%BD%95%E8%84%B1%E7%A6%BB%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/" class="post-title-link" itemprop="url">脱离框架开发</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-08-13 00:00:00" itemprop="dateCreated datePublished" datetime="2025-08-13T00:00:00+08:00">2025-08-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-08-12 16:19:08" itemprop="dateModified" datetime="2025-08-12T16:19:08+08:00">2025-08-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>前端脱离框架去开发，就是不使用任何前端框架（Vue、React等）的情况下，直接用js、html和css去开发web。这意味更能深入了解前端底层原理和机制，避免依赖框架。</p>
<p>在面对静态且不做过多功能的低项目下，其实脱离框架就已经足够了。框架编写的代码必须要进行编译才能在浏览器中渲染，所以便有了webpack。像Vue的出现就是为了解决一些痛点问题，比如双向数据流、自动响应式更新等，但我们又不得不遵守他们框架内的一些语法，随着vue的升级，我们也要不停学习更新的框架内容。框架本身是有利于开发的，但面对一些简单的问题时，不用框架反而是明智的。根据需求而决定去不去用框架进行下一步的开发。</p>
<p>当开发多个类似的网站，没有打包过的代码放上服务器，能直接在服务器改源代码。而使用框架后打包的源码放在服务器中，要修改却只能本地修改，反而更浪费时间。当熟悉纯js开发后，还能开发一些工具以及框架出来。</p>

      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lidyaqf.github.io/2025/08/12/vue%E5%AE%9E%E7%8E%B0%E6%8F%92%E5%85%A5%E8%84%9A%E6%9C%AC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="lidya">
      <meta itemprop="description" content="服人以诚不以言">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫叶白">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/08/12/vue%E5%AE%9E%E7%8E%B0%E6%8F%92%E5%85%A5%E8%84%9A%E6%9C%AC/" class="post-title-link" itemprop="url">Vue中插入脚本</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2025-08-12 00:00:00 / 修改时间：14:52:34" itemprop="dateCreated datePublished" datetime="2025-08-12T00:00:00+08:00">2025-08-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>当你拿到的广告代码是包含script标签时，则需要通过一定的转换，才能正常渲染到页面上。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//当你拿到的广告代码如下：</span></span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line"> atOptions = &#123;</span><br><span class="line">  <span class="string">&#x27;key&#x27;</span> : <span class="string">&#x27;1523b7ddb936e560aadef64a851d500c&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;format&#x27;</span> : <span class="string">&#x27;iframe&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;height&#x27;</span> : <span class="number">250</span>,</span><br><span class="line">  <span class="string">&#x27;width&#x27;</span> : <span class="number">300</span>,</span><br><span class="line">  <span class="string">&#x27;params&#x27;</span> : &#123;&#125;</span><br><span class="line"> &#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//www.highperformanceformat.com/1523b7ddb936e560aadef64a851d500c/invoke.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//转换后：</span></span><br><span class="line"><span class="keyword">const</span> targetDiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;de_v&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (!targetDiv) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建第一个 script 设置 atOptions</span></span><br><span class="line"><span class="keyword">const</span> script1 = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;script&quot;</span>);</span><br><span class="line">script1.<span class="property">type</span> = <span class="string">&quot;text/javascript&quot;</span>;</span><br><span class="line">script1.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">  atOptions = &#123;</span></span><br><span class="line"><span class="string">&#x27;key&#x27; : &#x27;1523b7ddb936e560aadef64a851d500c&#x27;,</span></span><br><span class="line"><span class="string">&#x27;format&#x27; : &#x27;iframe&#x27;,</span></span><br><span class="line"><span class="string">&#x27;height&#x27; : 250,</span></span><br><span class="line"><span class="string">&#x27;width&#x27; : 300,</span></span><br><span class="line"><span class="string">&#x27;params&#x27; : &#123;&#125;</span></span><br><span class="line"><span class="string">&#125;;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建第二个 script 负责加载外部 JS</span></span><br><span class="line"><span class="keyword">const</span> script2 = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;script&quot;</span>);</span><br><span class="line">script2.<span class="property">type</span> = <span class="string">&quot;text/javascript&quot;</span>;</span><br><span class="line">script2.<span class="property">src</span> = <span class="string">&quot;//www.highperformanceformat.com/1523b7ddb936e560aadef64a851d500c/invoke.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 插入到 #de_v 容器内</span></span><br><span class="line">targetDiv.<span class="title function_">appendChild</span>(script1);</span><br><span class="line">targetDiv.<span class="title function_">appendChild</span>(script2);</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lidyaqf.github.io/2025/07/29/%E8%8E%B7%E5%8F%96%E5%88%B0%E7%9A%84csv%E4%BF%9D%E5%AD%98%E6%95%B0%E6%8D%AE%E5%BA%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="lidya">
      <meta itemprop="description" content="服人以诚不以言">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫叶白">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/07/29/%E8%8E%B7%E5%8F%96%E5%88%B0%E7%9A%84csv%E4%BF%9D%E5%AD%98%E6%95%B0%E6%8D%AE%E5%BA%93/" class="post-title-link" itemprop="url">获取到的csv保存数据库</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2025-07-29 00:00:00 / 修改时间：10:03:03" itemprop="dateCreated datePublished" datetime="2025-07-29T00:00:00+08:00">2025-07-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">后端</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>如果第三方接口获取到的数据，返回为csv文档时，可以先把csv文档保存到本地某路径，再通过fs的createReadStream读取数据，保存到本地数据库。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">processConversations</span> = <span class="keyword">async</span> (<span class="params">dateObj</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> username = <span class="string">&#x27;你的帐户名&#x27;</span>;</span><br><span class="line">  <span class="keyword">const</span> password = <span class="string">&#x27;密码&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> year = dateObj.<span class="title function_">format</span>(<span class="string">&#x27;YYYY&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> month = dateObj.<span class="title function_">format</span>(<span class="string">&#x27;MM&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> day = dateObj.<span class="title function_">format</span>(<span class="string">&#x27;DD&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> hour = dateObj.<span class="title function_">format</span>(<span class="string">&#x27;HH&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> dateStr = <span class="string">`<span class="subst">$&#123;year&#125;</span>-<span class="subst">$&#123;month&#125;</span>-<span class="subst">$&#123;day&#125;</span>-<span class="subst">$&#123;hour&#125;</span>`</span>;</span><br><span class="line">  <span class="keyword">const</span> fileName = <span class="string">`路径后半部份`</span>;</span><br><span class="line">  <span class="keyword">const</span> url = <span class="string">`https://api/<span class="subst">$&#123;fileName&#125;</span>`</span>;</span><br><span class="line">  <span class="keyword">const</span> outputPath = <span class="string">`/tmp/conversations`</span>;</span><br><span class="line">  <span class="keyword">const</span> tableName = <span class="string">&#x27;test&#x27;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// 下载 CSV</span></span><br><span class="line">    <span class="keyword">const</span> response = <span class="keyword">await</span> axios.<span class="title function_">get</span>(url, &#123;</span><br><span class="line">      <span class="attr">responseType</span>: <span class="string">&#x27;stream&#x27;</span>,</span><br><span class="line">      <span class="attr">headers</span>: &#123;</span><br><span class="line">        <span class="title class_">Authorization</span>: <span class="string">`Basic <span class="subst">$&#123;Buffer.<span class="keyword">from</span>(<span class="string">`<span class="subst">$&#123;username&#125;</span>:<span class="subst">$&#123;password&#125;</span>`</span>).toString(<span class="string">&#x27;base64&#x27;</span>)&#125;</span>`</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> writer = fs.<span class="title function_">createWriteStream</span>(outputPath);</span><br><span class="line">    response.<span class="property">data</span>.<span class="title function_">pipe</span>(writer);</span><br><span class="line">    <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      writer.<span class="title function_">on</span>(<span class="string">&#x27;finish&#x27;</span>, resolve);</span><br><span class="line">      writer.<span class="title function_">on</span>(<span class="string">&#x27;error&#x27;</span>, reject);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27; CSV 文件下载成功:&#x27;</span>, fileName);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> rows = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      fs.<span class="title function_">createReadStream</span>(outputPath)</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">csv</span>())</span><br><span class="line">        .<span class="title function_">on</span>(<span class="string">&#x27;data&#x27;</span>, <span class="function">(<span class="params">row</span>) =&gt;</span> &#123;</span><br><span class="line">          rows.<span class="title function_">push</span>([</span><br><span class="line">            row[<span class="string">&#x27;DATE_TIME&#x27;</span>] ? <span class="title function_">dayjs</span>(row[<span class="string">&#x27;DATE_TIME&#x27;</span>]).<span class="title function_">format</span>(<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>) : <span class="literal">null</span>,</span><br><span class="line">            row[<span class="string">&#x27;CLID&#x27;</span>] || <span class="literal">null</span>,</span><br><span class="line">            row[<span class="string">&#x27;CLID_SOURCE&#x27;</span>] || <span class="literal">null</span></span><br><span class="line">          ]);</span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">on</span>(<span class="string">&#x27;end&#x27;</span>, resolve)</span><br><span class="line">        .<span class="title function_">on</span>(<span class="string">&#x27;error&#x27;</span>, reject);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (rows.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">`CSV 中没有数据: <span class="subst">$&#123;fileName&#125;</span>`</span>);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> insertSQL = <span class="string">`</span></span><br><span class="line"><span class="string">      INSERT INTO \`<span class="subst">$&#123;tableName&#125;</span>\` (</span></span><br><span class="line"><span class="string">        date_time, clid, clid_source</span></span><br><span class="line"><span class="string">      ) VALUES ?</span></span><br><span class="line"><span class="string">    `</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">query</span>(insertSQL, [rows]);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`成功插入 <span class="subst">$&#123;rows.length&#125;</span> 条记录: <span class="subst">$&#123;fileName&#125;</span>`</span>);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`报错 (<span class="subst">$&#123;fileName&#125;</span>):`</span>, error.<span class="property">message</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lidyaqf.github.io/2025/07/27/%E7%B4%A2%E5%BC%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="lidya">
      <meta itemprop="description" content="服人以诚不以言">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫叶白">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/07/27/%E7%B4%A2%E5%BC%95/" class="post-title-link" itemprop="url">索引</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-07-27 00:00:00" itemprop="dateCreated datePublished" datetime="2025-07-27T00:00:00+08:00">2025-07-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-07-28 11:20:48" itemprop="dateModified" datetime="2025-07-28T11:20:48+08:00">2025-07-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">后端</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="索引的作用"><a href="#索引的作用" class="headerlink" title="索引的作用"></a>索引的作用</h2><p>当想要快速查找到自己想要的数据时，可以用索引。通过索引，可以在检索数据时直接定位到，省去时间，就好比一本书前面的目录，能让你快速找到自己想看的内容。如果索引包含多列，那么按照从左到右的顺序，即最左前缀列来进行。</p>
<h2 id="索引的类型"><a href="#索引的类型" class="headerlink" title="索引的类型"></a>索引的类型</h2><ol>
<li>唯一索引：<br>对某些列（比如身份证）添加唯一约束，不能出现两条身份证相同的记录，通过 UNIQUE 关键字我们就添加了一个唯一索引。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">ADD</span> <span class="variable constant_">UNIQUE</span> <span class="variable constant_">INDEX</span> <span class="title function_">uni_sf</span> (sf);</span><br></pre></td></tr></table></figure>

<p>也可以给列添加唯一约束，而不创建唯一索引，列具有唯一性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">ADD</span> <span class="variable constant_">CONSTRAINT</span> uni_name <span class="title function_">UNIQUE</span> (name);</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>主键索引：<br> 主键一旦创建，就会自动带上索引。这也是为什么主键搜索数据会更快的原因。一个表只能有一个主键，一个主键可以包含多列，即联合主键。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">ALTER</span> <span class="variable constant_">TABLE</span> table_name <span class="variable constant_">ADD</span> <span class="variable constant_">PRIMARY</span> <span class="title function_">KEY</span> (column);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>普通索引：<br> 任何一列都可以创建索引，建议只在自己经常想要检索的列上加索引，不要全部加，会耗性能。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">ALTER</span> <span class="variable constant_">TABLE</span> table_name <span class="variable constant_">ADD</span> <span class="variable constant_">INDEX</span> <span class="title function_">index_name</span> (column);</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lidyaqf.github.io/2025/07/22/ReactNative%E8%87%AA%E5%AE%9A%E4%B9%89%E6%BB%91%E5%8A%A8%E6%9D%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="lidya">
      <meta itemprop="description" content="服人以诚不以言">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫叶白">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/07/22/ReactNative%E8%87%AA%E5%AE%9A%E4%B9%89%E6%BB%91%E5%8A%A8%E6%9D%A1/" class="post-title-link" itemprop="url">ReactNative自定义滑动条</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2025-07-22 12:44:17 / 修改时间：10:29:30" itemprop="dateCreated datePublished" datetime="2025-07-22T12:44:17+08:00">2025-07-22</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>测试、UI要求的会比较高，比如滑动图标改成自定义图片等，所以传统的@react-native-community&#x2F;slider已经不能满足所需，所以采取自定义形式，在网上找了很久才发现的一个宝藏依赖：<a target="_blank" rel="noopener" href="https://github.com/miblanchard/react-native-slider">https://github.com/miblanchard/react-native-slider</a></p>
<h2 id="组件代码如下："><a href="#组件代码如下：" class="headerlink" title="组件代码如下："></a>组件代码如下：</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">PureComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    <span class="title class_">Animated</span>,</span><br><span class="line">    <span class="title class_">Easing</span>,</span><br><span class="line">    I18nManager,</span><br><span class="line">    <span class="title class_">Image</span>,</span><br><span class="line">    <span class="title class_">ImageSourcePropType</span>,</span><br><span class="line">    <span class="title class_">LayoutChangeEvent</span>,</span><br><span class="line">    <span class="title class_">PanResponder</span>,</span><br><span class="line">    <span class="title class_">PanResponderInstance</span>,</span><br><span class="line">    <span class="title class_">View</span>,</span><br><span class="line">    <span class="title class_">ViewStyle</span>,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;react-native&#x27;</span>;</span><br><span class="line"><span class="comment">// styles</span></span><br><span class="line"><span class="keyword">import</span> &#123; defaultStyles <span class="keyword">as</span> styles &#125; <span class="keyword">from</span> <span class="string">&#x27;./styles&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> type &#123; <span class="title class_">Dimensions</span>, <span class="title class_">SliderProps</span>, <span class="title class_">SliderState</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./types&#x27;</span>;</span><br><span class="line"></span><br><span class="line">type <span class="title class_">RectReturn</span> = &#123;</span><br><span class="line">    <span class="attr">containsPoint</span>: <span class="function">(<span class="params">nativeX: number, nativeY: number</span>) =&gt;</span> boolean;</span><br><span class="line">    <span class="attr">height</span>: number;</span><br><span class="line">    <span class="attr">trackDistanceToPoint</span>: <span class="function">(<span class="params">nativeX: number</span>) =&gt;</span> number;</span><br><span class="line">    <span class="attr">width</span>: number;</span><br><span class="line">    <span class="attr">x</span>: number;</span><br><span class="line">    <span class="attr">y</span>: number;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Rect</span> = (<span class="params">&#123;</span></span><br><span class="line"><span class="params">    height,</span></span><br><span class="line"><span class="params">    width,</span></span><br><span class="line"><span class="params">    x,</span></span><br><span class="line"><span class="params">    y,</span></span><br><span class="line"><span class="params">&#125;: &#123;</span></span><br><span class="line"><span class="params">    height: number;</span></span><br><span class="line"><span class="params">    width: number;</span></span><br><span class="line"><span class="params">    x: number;</span></span><br><span class="line"><span class="params">    y: number;</span></span><br><span class="line"><span class="params">&#125;</span>) =&gt; (&#123;</span><br><span class="line">    <span class="attr">containsPoint</span>: <span class="function">(<span class="params">nativeX: number, nativeY: number</span>) =&gt;</span></span><br><span class="line">        nativeX &gt;= x &amp;&amp;</span><br><span class="line">        nativeY &gt;= y &amp;&amp;</span><br><span class="line">        nativeX &lt;= x + width &amp;&amp;</span><br><span class="line">        nativeY &lt;= y + height,</span><br><span class="line">    height,</span><br><span class="line">    <span class="attr">trackDistanceToPoint</span>: <span class="function">(<span class="params">nativeX: number</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (nativeX &lt; x) &#123;</span><br><span class="line">            <span class="keyword">return</span> x - nativeX;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (nativeX &gt; x + width) &#123;</span><br><span class="line">            <span class="keyword">return</span> nativeX - (x + width);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    width,</span><br><span class="line">    x,</span><br><span class="line">    y,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">DEFAULT_ANIMATION_CONFIGS</span> = &#123;</span><br><span class="line">    <span class="attr">spring</span>: &#123;</span><br><span class="line">        <span class="attr">friction</span>: <span class="number">7</span>,</span><br><span class="line">        <span class="attr">tension</span>: <span class="number">100</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">timing</span>: &#123;</span><br><span class="line">        <span class="attr">duration</span>: <span class="number">150</span>,</span><br><span class="line">        <span class="attr">easing</span>: <span class="title class_">Easing</span>.<span class="title function_">inOut</span>(<span class="title class_">Easing</span>.<span class="property">ease</span>),</span><br><span class="line">        <span class="attr">delay</span>: <span class="number">0</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> normalizeValue = (</span><br><span class="line">    <span class="attr">props</span>: <span class="title class_">SliderProps</span>,</span><br><span class="line">    value?: number | <span class="title class_">Array</span>&lt;number&gt;,</span><br><span class="line">): <span class="title class_">Array</span>&lt;number&gt; =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (!value || (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(value) &amp;&amp; value.<span class="property">length</span> === <span class="number">0</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> [<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> &#123;maximumValue, minimumValue&#125; = props;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">getBetweenValue</span> = (<span class="params">inputValue: number</span>) =&gt;</span><br><span class="line">        <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="title class_">Math</span>.<span class="title function_">min</span>(inputValue, maximumValue), minimumValue);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(value)) &#123;</span><br><span class="line">        <span class="keyword">return</span> [<span class="title function_">getBetweenValue</span>(value)];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> value.<span class="title function_">map</span>(getBetweenValue).<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> updateValues = (&#123;</span><br><span class="line">    values,</span><br><span class="line">    newValues = values,</span><br><span class="line">&#125;: &#123;</span><br><span class="line">    <span class="attr">values</span>: number | <span class="title class_">Array</span>&lt;number&gt; | <span class="title class_">Animated</span>.<span class="property">Value</span> | <span class="title class_">Array</span>&lt;<span class="title class_">Animated</span>.<span class="property">Value</span>&gt;;</span><br><span class="line">    newValues?: number | <span class="title class_">Array</span>&lt;number&gt; | <span class="title class_">Animated</span>.<span class="property">Value</span> | <span class="title class_">Array</span>&lt;<span class="title class_">Animated</span>.<span class="property">Value</span>&gt;;</span><br><span class="line">&#125;): <span class="title class_">Animated</span>.<span class="property">Value</span>[] =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">        <span class="title class_">Array</span>.<span class="title function_">isArray</span>(newValues) &amp;&amp;</span><br><span class="line">        <span class="title class_">Array</span>.<span class="title function_">isArray</span>(values) &amp;&amp;</span><br><span class="line">        newValues.<span class="property">length</span> !== values.<span class="property">length</span></span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">updateValues</span>(&#123;<span class="attr">values</span>: newValues&#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(values) &amp;&amp; <span class="title class_">Array</span>.<span class="title function_">isArray</span>(newValues)) &#123;</span><br><span class="line">        <span class="keyword">return</span> values?.<span class="title function_">map</span>(<span class="function">(<span class="params">value: number | Animated.Value, index: number</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> valueToSet = newValues[index];</span><br><span class="line">            <span class="keyword">if</span> (value <span class="keyword">instanceof</span> <span class="title class_">Animated</span>.<span class="property">Value</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (valueToSet <span class="keyword">instanceof</span> <span class="title class_">Animated</span>.<span class="property">Value</span>) &#123;</span><br><span class="line">                    valueToSet = valueToSet.<span class="title function_">__getValue</span>();</span><br><span class="line">                &#125;</span><br><span class="line">                value.<span class="title function_">setValue</span>(valueToSet);</span><br><span class="line">                <span class="keyword">return</span> value;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (valueToSet <span class="keyword">instanceof</span> <span class="title class_">Animated</span>.<span class="property">Value</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> valueToSet;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Animated</span>.<span class="title class_">Value</span>(valueToSet);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> [<span class="keyword">new</span> <span class="title class_">Animated</span>.<span class="title class_">Value</span>(<span class="number">0</span>)];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> indexOfLowest = (<span class="attr">values</span>: <span class="title class_">Array</span>&lt;number&gt;): <span class="function"><span class="params">number</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> lowestIndex = <span class="number">0</span>;</span><br><span class="line">    values.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value, index, array</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (value &lt; array[lowestIndex]) &#123;</span><br><span class="line">            lowestIndex = index;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> lowestIndex;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">Slider</span> <span class="keyword">extends</span> <span class="title class_ inherited__">PureComponent</span>&lt;<span class="title class_">SliderProps</span>, <span class="title class_">SliderState</span>&gt; &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">props: SliderProps</span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(props);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_panResponder</span> = <span class="title class_">PanResponder</span>.<span class="title function_">create</span>(&#123;</span><br><span class="line">            <span class="attr">onStartShouldSetPanResponder</span>:</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_handleStartShouldSetPanResponder</span>,</span><br><span class="line">            <span class="attr">onMoveShouldSetPanResponder</span>: <span class="variable language_">this</span>.<span class="property">_handleMoveShouldSetPanResponder</span>,</span><br><span class="line">            <span class="attr">onPanResponderGrant</span>: <span class="variable language_">this</span>.<span class="property">_handlePanResponderGrant</span>,</span><br><span class="line">            <span class="attr">onPanResponderMove</span>: <span class="variable language_">this</span>.<span class="property">_handlePanResponderMove</span>,</span><br><span class="line">            <span class="attr">onPanResponderRelease</span>: <span class="variable language_">this</span>.<span class="property">_handlePanResponderEnd</span>,</span><br><span class="line">            <span class="attr">onPanResponderTerminationRequest</span>:</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_handlePanResponderRequestEnd</span>,</span><br><span class="line">            <span class="attr">onPanResponderTerminate</span>: <span class="variable language_">this</span>.<span class="property">_handlePanResponderEnd</span>,</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">            <span class="attr">allMeasured</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">containerSize</span>: &#123;</span><br><span class="line">                <span class="attr">width</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">height</span>: <span class="number">0</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">thumbSize</span>: &#123;</span><br><span class="line">                <span class="attr">width</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">height</span>: <span class="number">0</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">trackMarksValues</span>: <span class="title function_">updateValues</span>(&#123;</span><br><span class="line">                <span class="attr">values</span>: <span class="title function_">normalizeValue</span>(<span class="variable language_">this</span>.<span class="property">props</span>, <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">trackMarks</span>),</span><br><span class="line">            &#125;),</span><br><span class="line">            <span class="attr">values</span>: <span class="title function_">updateValues</span>(&#123;</span><br><span class="line">                <span class="attr">values</span>: <span class="title function_">normalizeValue</span>(</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="property">props</span>,</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">value</span> <span class="keyword">instanceof</span> <span class="title class_">Animated</span>.<span class="property">Value</span></span><br><span class="line">                        ? <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">value</span>.<span class="title function_">__getValue</span>()</span><br><span class="line">                        : <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">value</span>,</span><br><span class="line">                ),</span><br><span class="line">            &#125;),</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> defaultProps = &#123;</span><br><span class="line">        <span class="attr">animationType</span>: <span class="string">&#x27;timing&#x27;</span>,</span><br><span class="line">        <span class="attr">debugTouchArea</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">trackMarks</span>: [],</span><br><span class="line">        <span class="attr">maximumTrackTintColor</span>: <span class="string">&#x27;#b3b3b3&#x27;</span>,</span><br><span class="line">        <span class="attr">maximumValue</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">minimumTrackTintColor</span>: <span class="string">&#x27;#3f3f3f&#x27;</span>,</span><br><span class="line">        <span class="attr">minimumValue</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">step</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">thumbTintColor</span>: <span class="string">&#x27;#343434&#x27;</span>,</span><br><span class="line">        <span class="attr">trackClickable</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">value</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">vertical</span>: <span class="literal">false</span>,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">getDerivedStateFromProps</span>(<span class="params">props: SliderProps, state: SliderState</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (</span><br><span class="line">            props.<span class="property">trackMarks</span> &amp;&amp;</span><br><span class="line">            !!state.<span class="property">trackMarksValues</span> &amp;&amp;</span><br><span class="line">            state.<span class="property">trackMarksValues</span>.<span class="property">length</span> &gt; <span class="number">0</span></span><br><span class="line">        ) &#123;</span><br><span class="line">            <span class="keyword">const</span> newTrackMarkValues = <span class="title function_">normalizeValue</span>(props, props.<span class="property">trackMarks</span>);</span><br><span class="line">            <span class="keyword">const</span> statePatch = &#123;&#125; <span class="keyword">as</span> <span class="title class_">SliderState</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (</span><br><span class="line">                state.<span class="property">trackMarksValues</span></span><br><span class="line">            ) &#123;</span><br><span class="line">                statePatch.<span class="property">trackMarksValues</span> = <span class="title function_">updateValues</span>(&#123;</span><br><span class="line">                    <span class="attr">values</span>: state.<span class="property">trackMarksValues</span>,</span><br><span class="line">                    <span class="attr">newValues</span>: newTrackMarkValues,</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> statePatch;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">componentDidUpdate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> newValues = <span class="title function_">normalizeValue</span>(</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">props</span>,</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">value</span> <span class="keyword">instanceof</span> <span class="title class_">Animated</span>.<span class="property">Value</span></span><br><span class="line">                ? <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">value</span>.<span class="title function_">__getValue</span>()</span><br><span class="line">                : <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">value</span>,</span><br><span class="line">        );</span><br><span class="line">        newValues.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value, i</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">values</span>[i]) &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">_setCurrentValue</span>(value, i);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value !== <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">values</span>[i].<span class="title function_">__getValue</span>()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">animateTransitions</span>) &#123;</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="title function_">_setCurrentValueAnimated</span>(value, i);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="title function_">_setCurrentValue</span>(value, i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">_getRawValues</span>(<span class="params"></span></span><br><span class="line"><span class="params">        values: <span class="built_in">Array</span>&lt;Animated.Value&gt; | <span class="built_in">Array</span>&lt;Animated.AnimatedInterpolation&gt;,</span></span><br><span class="line"><span class="params">    </span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> values.<span class="title function_">map</span>(<span class="function">(<span class="params">value</span>) =&gt;</span> value.<span class="title function_">__getValue</span>());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    _handleStartShouldSetPanResponder = (</span><br><span class="line">        <span class="attr">e</span>: any,</span><br><span class="line">    ): <span class="comment">/* gestureState: GestureState */</span></span><br><span class="line">    <span class="function"><span class="params">boolean</span> =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">_thumbHitTest</span>(e); <span class="comment">// Should we become active when the user presses down on the thumb?</span></span><br><span class="line"></span><br><span class="line">    <span class="title function_">_handleMoveShouldSetPanResponder</span>(): <span class="comment">/* e, gestureState: GestureState */</span></span><br><span class="line">    boolean &#123;</span><br><span class="line">        <span class="comment">// Should we become active when the user moves a touch over the thumb?</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    _handlePanResponderGrant = <span class="function">(<span class="params">e: &#123;nativeEvent: any&#125;</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;thumbSize&#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">        <span class="keyword">const</span> &#123;nativeEvent&#125; = e;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_previousLeft</span> = <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">trackClickable</span></span><br><span class="line">            ? nativeEvent.<span class="property">locationX</span> - thumbSize.<span class="property">width</span></span><br><span class="line">            : <span class="variable language_">this</span>.<span class="title function_">_getThumbLeft</span>(<span class="variable language_">this</span>.<span class="title function_">_getCurrentValue</span>(<span class="variable language_">this</span>.<span class="property">_activeThumbIndex</span>));</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">props</span>?.<span class="property">onSlidingStart</span>?.(<span class="variable language_">this</span>.<span class="title function_">_getRawValues</span>(<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">values</span>));</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    _handlePanResponderMove = <span class="function">(<span class="params">_e: any, gestureState: any</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">disabled</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">_setCurrentValue</span>(</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">_getValue</span>(gestureState),</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">_activeThumbIndex</span>,</span><br><span class="line">            <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">props</span>?.<span class="property">onValueChange</span>?.(</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="title function_">_getRawValues</span>(<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">values</span>),</span><br><span class="line">                );</span><br><span class="line">            &#125;,</span><br><span class="line">        );</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    _handlePanResponderRequestEnd = <span class="function">() =&gt;</span></span><br><span class="line">        <span class="comment">/* e, gestureState: GestureState */</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// Should we allow another component to take over this pan?</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">    _handlePanResponderEnd = <span class="function">(<span class="params">_e: any, gestureState: any</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">disabled</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">_setCurrentValue</span>(</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">_getValue</span>(gestureState),</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">_activeThumbIndex</span>,</span><br><span class="line">            <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">trackClickable</span>) &#123;</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="property">props</span>?.<span class="property">onValueChange</span>?.(</span><br><span class="line">                        <span class="variable language_">this</span>.<span class="title function_">_getRawValues</span>(<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">values</span>),</span><br><span class="line">                    );</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">props</span>?.<span class="property">onSlidingComplete</span>?.(</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="title function_">_getRawValues</span>(<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">values</span>),</span><br><span class="line">                );</span><br><span class="line">            &#125;,</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_activeThumbIndex</span> = <span class="number">0</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    _measureContainer = <span class="function">(<span class="params">e: LayoutChangeEvent</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">_handleMeasure</span>(<span class="string">&#x27;_containerSize&#x27;</span>, e);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    _measureTrack = <span class="function">(<span class="params">e: LayoutChangeEvent</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">_handleMeasure</span>(<span class="string">&#x27;_trackSize&#x27;</span>, e);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    _measureThumb = <span class="function">(<span class="params">e: LayoutChangeEvent</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">_handleMeasure</span>(<span class="string">&#x27;_thumbSize&#x27;</span>, e);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    _handleMeasure = <span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">        name: <span class="string">&#x27;_containerSize&#x27;</span> | <span class="string">&#x27;_trackSize&#x27;</span> | <span class="string">&#x27;_thumbSize&#x27;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        e: LayoutChangeEvent,</span></span></span><br><span class="line"><span class="params"><span class="function">    </span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;width, height&#125; = e.<span class="property">nativeEvent</span>.<span class="property">layout</span>;</span><br><span class="line">        <span class="keyword">const</span> size = &#123;</span><br><span class="line">            width,</span><br><span class="line">            height,</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> currentSize = <span class="variable language_">this</span>[name];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (</span><br><span class="line">            currentSize &amp;&amp;</span><br><span class="line">            width === currentSize.<span class="property">width</span> &amp;&amp;</span><br><span class="line">            height === currentSize.<span class="property">height</span></span><br><span class="line">        ) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>[name] = size;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">_containerSize</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">_thumbSize</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">                <span class="attr">containerSize</span>: <span class="variable language_">this</span>.<span class="property">_containerSize</span>,</span><br><span class="line">                <span class="attr">thumbSize</span>: <span class="variable language_">this</span>.<span class="property">_thumbSize</span>,</span><br><span class="line">                <span class="attr">allMeasured</span>: <span class="literal">true</span>,</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    _getRatio = <span class="function">(<span class="params">value: number</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;maximumValue, minimumValue&#125; = <span class="variable language_">this</span>.<span class="property">props</span>;</span><br><span class="line">        <span class="keyword">return</span> (value - minimumValue) / (maximumValue - minimumValue);</span><br><span class="line">    &#125;;</span><br><span class="line">    _getThumbLeft = <span class="function">(<span class="params">value: number</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;containerSize, thumbSize&#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">        <span class="keyword">const</span> &#123;vertical&#125; = <span class="variable language_">this</span>.<span class="property">props</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> standardRatio = <span class="variable language_">this</span>.<span class="title function_">_getRatio</span>(value);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> ratio = I18nManager.<span class="property">isRTL</span> ? <span class="number">1</span> - standardRatio : standardRatio;</span><br><span class="line">        <span class="keyword">return</span> ratio * ((vertical ? containerSize.<span class="property">height</span> : containerSize.<span class="property">width</span>) - thumbSize.<span class="property">width</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    _getValue = <span class="function">(<span class="params">gestureState: &#123;dx: number, dy: number&#125;</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;containerSize, thumbSize, values&#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">        <span class="keyword">const</span> &#123;maximumValue, minimumValue, step, vertical&#125; = <span class="variable language_">this</span>.<span class="property">props</span>;</span><br><span class="line">        <span class="keyword">const</span> length = containerSize.<span class="property">width</span> - thumbSize.<span class="property">width</span>;</span><br><span class="line">        <span class="keyword">const</span> thumbLeft = vertical ? <span class="variable language_">this</span>.<span class="property">_previousLeft</span> + (gestureState.<span class="property">dy</span> * -<span class="number">1</span>) : <span class="variable language_">this</span>.<span class="property">_previousLeft</span> + gestureState.<span class="property">dx</span>;</span><br><span class="line">        <span class="keyword">const</span> nonRtlRatio = thumbLeft / length;</span><br><span class="line">        <span class="keyword">const</span> ratio = I18nManager.<span class="property">isRTL</span> ? <span class="number">1</span> - nonRtlRatio : nonRtlRatio;</span><br><span class="line">        <span class="keyword">let</span> minValue = minimumValue;</span><br><span class="line">        <span class="keyword">let</span> maxValue = maximumValue;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> rawValues = <span class="variable language_">this</span>.<span class="title function_">_getRawValues</span>(values);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> buffer = step ? step : <span class="number">0.1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (values.<span class="property">length</span> === <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">_activeThumbIndex</span> === <span class="number">1</span>) &#123;</span><br><span class="line">                minValue = rawValues[<span class="number">0</span>] + buffer;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                maxValue = rawValues[<span class="number">1</span>] - buffer;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (step) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">max</span>(</span><br><span class="line">                minValue,</span><br><span class="line">                <span class="title class_">Math</span>.<span class="title function_">min</span>(</span><br><span class="line">                    maxValue,</span><br><span class="line">                    minimumValue +</span><br><span class="line">                        <span class="title class_">Math</span>.<span class="title function_">round</span>(</span><br><span class="line">                            (ratio * (maximumValue - minimumValue)) / step,</span><br><span class="line">                        ) *</span><br><span class="line">                            step,</span><br><span class="line">                ),</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">max</span>(</span><br><span class="line">            minValue,</span><br><span class="line">            <span class="title class_">Math</span>.<span class="title function_">min</span>(</span><br><span class="line">                maxValue,</span><br><span class="line">                ratio * (maximumValue - minimumValue) + minimumValue,</span><br><span class="line">            ),</span><br><span class="line">        );</span><br><span class="line">    &#125;;</span><br><span class="line">    _getCurrentValue = <span class="function">(<span class="params">thumbIndex: number = <span class="number">0</span></span>) =&gt;</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">values</span>[thumbIndex].<span class="title function_">__getValue</span>();</span><br><span class="line"></span><br><span class="line">    _setCurrentValue = <span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">        value: number,</span></span></span><br><span class="line"><span class="params"><span class="function">        thumbIndex: number | <span class="literal">null</span> | <span class="literal">undefined</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        callback?: () =&gt; <span class="keyword">void</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    </span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> safeIndex = thumbIndex ?? <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">const</span> animatedValue = <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">values</span>[safeIndex];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (animatedValue) &#123;</span><br><span class="line">            animatedValue.<span class="title function_">setValue</span>(value);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (callback) &#123;</span><br><span class="line">                <span class="title function_">callback</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">setState</span>(<span class="function">(<span class="params">prevState: SliderState</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">const</span> newValues = [...prevState.<span class="property">values</span>];</span><br><span class="line">                newValues[safeIndex] = <span class="keyword">new</span> <span class="title class_">Animated</span>.<span class="title class_">Value</span>(value);</span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    <span class="attr">values</span>: newValues,</span><br><span class="line">                &#125;;</span><br><span class="line">            &#125;, callback);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    _setCurrentValueAnimated = <span class="function">(<span class="params">value: number, thumbIndex: number = <span class="number">0</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;animationType&#125; = <span class="variable language_">this</span>.<span class="property">props</span>;</span><br><span class="line">        <span class="keyword">const</span> animationConfig = &#123;</span><br><span class="line">            ...<span class="variable constant_">DEFAULT_ANIMATION_CONFIGS</span>[animationType],</span><br><span class="line">            ...<span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">animationConfig</span>,</span><br><span class="line">            <span class="attr">toValue</span>: value,</span><br><span class="line">            <span class="attr">useNativeDriver</span>: <span class="literal">false</span>,</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="title class_">Animated</span>[animationType](</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">values</span>[thumbIndex],</span><br><span class="line">            animationConfig,</span><br><span class="line">        ).<span class="title function_">start</span>();</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    _getTouchOverflowSize = (): &#123;</span><br><span class="line">        <span class="attr">width</span>: number;</span><br><span class="line">        <span class="attr">height</span>: number;</span><br><span class="line">    &#125; =&gt; &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;allMeasured, containerSize, thumbSize&#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">        <span class="keyword">const</span> &#123;thumbTouchSize&#125; = <span class="variable language_">this</span>.<span class="property">props</span>;</span><br><span class="line">        <span class="keyword">const</span> size = &#123;</span><br><span class="line">            <span class="attr">width</span>: <span class="number">40</span>,</span><br><span class="line">            <span class="attr">height</span>: <span class="number">40</span>,</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (allMeasured) &#123;</span><br><span class="line">            size.<span class="property">width</span> = <span class="title class_">Math</span>.<span class="title function_">max</span>(</span><br><span class="line">                <span class="number">0</span>,</span><br><span class="line">                thumbTouchSize?.<span class="property">width</span> || <span class="number">0</span> - thumbSize.<span class="property">width</span>,</span><br><span class="line">            );</span><br><span class="line">            size.<span class="property">height</span> = <span class="title class_">Math</span>.<span class="title function_">max</span>(</span><br><span class="line">                <span class="number">0</span>,</span><br><span class="line">                thumbTouchSize?.<span class="property">height</span> || <span class="number">0</span> - containerSize.<span class="property">height</span>,</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    _getTouchOverflowStyle = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;width, height&#125; = <span class="variable language_">this</span>.<span class="title function_">_getTouchOverflowSize</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> touchOverflowStyle = &#123;&#125; <span class="keyword">as</span> <span class="title class_">ViewStyle</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (width !== <span class="literal">undefined</span> &amp;&amp; height !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> verticalMargin = -height / <span class="number">2</span>;</span><br><span class="line">            touchOverflowStyle.<span class="property">marginTop</span> = verticalMargin;</span><br><span class="line">            touchOverflowStyle.<span class="property">marginBottom</span> = verticalMargin;</span><br><span class="line">            <span class="keyword">const</span> horizontalMargin = -width / <span class="number">2</span>;</span><br><span class="line">            touchOverflowStyle.<span class="property">marginLeft</span> = horizontalMargin;</span><br><span class="line">            touchOverflowStyle.<span class="property">marginRight</span> = horizontalMargin;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">debugTouchArea</span> === <span class="literal">true</span>) &#123;</span><br><span class="line">            touchOverflowStyle.<span class="property">backgroundColor</span> = <span class="string">&#x27;orange&#x27;</span>;</span><br><span class="line">            touchOverflowStyle.<span class="property">opacity</span> = <span class="number">0.5</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> touchOverflowStyle;</span><br><span class="line">    &#125;;</span><br><span class="line">    _thumbHitTest = <span class="function">(<span class="params">e: &#123;nativeEvent: any&#125;</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;nativeEvent&#125; = e;</span><br><span class="line">        <span class="keyword">const</span> &#123;trackClickable&#125; = <span class="variable language_">this</span>.<span class="property">props</span>;</span><br><span class="line">        <span class="keyword">const</span> &#123;values&#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">        <span class="keyword">const</span> hitThumb = values.<span class="title function_">find</span>(<span class="function">(<span class="params">_, i</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> thumbTouchRect = <span class="variable language_">this</span>.<span class="title function_">_getThumbTouchRect</span>(i);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">const</span> containsPoint = thumbTouchRect.<span class="title function_">containsPoint</span>(</span><br><span class="line">                nativeEvent.<span class="property">locationX</span>,</span><br><span class="line">                nativeEvent.<span class="property">locationY</span>,</span><br><span class="line">            );</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (containsPoint) &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_activeThumbIndex</span> = i;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> containsPoint;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (hitThumb) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (trackClickable) &#123;</span><br><span class="line">            <span class="comment">// set the active thumb index</span></span><br><span class="line">            <span class="keyword">if</span> (values.<span class="property">length</span> === <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_activeThumbIndex</span> = <span class="number">0</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// we will find the closest thumb and that will be the active thumb</span></span><br><span class="line">                <span class="keyword">const</span> thumbDistances = values.<span class="title function_">map</span>(<span class="function">(<span class="params">_value, index</span>) =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">const</span> thumbTouchRect = <span class="variable language_">this</span>.<span class="title function_">_getThumbTouchRect</span>(index);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">return</span> thumbTouchRect.<span class="title function_">trackDistanceToPoint</span>(</span><br><span class="line">                        nativeEvent.<span class="property">locationX</span>,</span><br><span class="line">                    );</span><br><span class="line">                &#125;);</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_activeThumbIndex</span> = <span class="title function_">indexOfLowest</span>(thumbDistances);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    _getThumbTouchRect = (<span class="attr">thumbIndex</span>: number = <span class="number">0</span>): <span class="function"><span class="params">RectReturn</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;containerSize, thumbSize&#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">        <span class="keyword">const</span> &#123;thumbTouchSize&#125; = <span class="variable language_">this</span>.<span class="property">props</span>;</span><br><span class="line">        <span class="keyword">const</span> &#123;height, width&#125; = thumbTouchSize || &#123;<span class="attr">height</span>: <span class="number">40</span>, <span class="attr">width</span>: <span class="number">40</span>&#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> touchOverflowSize = <span class="variable language_">this</span>.<span class="title function_">_getTouchOverflowSize</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Rect</span>(&#123;</span><br><span class="line">            height,</span><br><span class="line">            width,</span><br><span class="line">            <span class="attr">x</span>:</span><br><span class="line">                touchOverflowSize.<span class="property">width</span> / <span class="number">2</span> +</span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">_getThumbLeft</span>(<span class="variable language_">this</span>.<span class="title function_">_getCurrentValue</span>(thumbIndex)) +</span><br><span class="line">                (thumbSize.<span class="property">width</span> - width) / <span class="number">2</span>,</span><br><span class="line">            <span class="attr">y</span>:</span><br><span class="line">                touchOverflowSize.<span class="property">height</span> / <span class="number">2</span> +</span><br><span class="line">                (containerSize.<span class="property">height</span> - height) / <span class="number">2</span>,</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="attr">_activeThumbIndex</span>: number = <span class="number">0</span>;</span><br><span class="line">    <span class="attr">_containerSize</span>: <span class="title class_">Dimensions</span> | <span class="literal">null</span> | <span class="literal">undefined</span>;</span><br><span class="line">    <span class="attr">_panResponder</span>: <span class="title class_">PanResponderInstance</span>;</span><br><span class="line">    <span class="attr">_previousLeft</span>: number = <span class="number">0</span>;</span><br><span class="line">    <span class="attr">_thumbSize</span>: <span class="title class_">Dimensions</span> | <span class="literal">null</span> | <span class="literal">undefined</span>;</span><br><span class="line">    <span class="attr">_trackSize</span>: <span class="title class_">Dimensions</span> | <span class="literal">null</span> | <span class="literal">undefined</span>;</span><br><span class="line"></span><br><span class="line">    _renderDebugThumbTouchRect = <span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">        thumbLeft: Animated.AnimatedInterpolation,</span></span></span><br><span class="line"><span class="params"><span class="function">        index: number,</span></span></span><br><span class="line"><span class="params"><span class="function">    </span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;height, y, width&#125; = <span class="variable language_">this</span>.<span class="title function_">_getThumbTouchRect</span>() || &#123;&#125;;</span><br><span class="line">        <span class="keyword">const</span> positionStyle = &#123;</span><br><span class="line">            height,</span><br><span class="line">            <span class="attr">left</span>: thumbLeft,</span><br><span class="line">            <span class="attr">top</span>: y,</span><br><span class="line">            width,</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">Animated.View</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">key</span>=<span class="string">&#123;</span>`<span class="attr">debug-thumb-</span>$&#123;<span class="attr">index</span>&#125;`&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">pointerEvents</span>=<span class="string">&quot;none&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">style</span>=<span class="string">&#123;[styles.debugThumbTouchArea,</span> <span class="attr">positionStyle</span>]&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            /&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    _renderThumbImage = <span class="function">(<span class="params">thumbIndex: number = <span class="number">0</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;thumbImage&#125; = <span class="variable language_">this</span>.<span class="property">props</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!thumbImage) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">Image</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">source</span>=<span class="string">&#123;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                    (<span class="attr">Array.isArray</span>(<span class="attr">thumbImage</span>)</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                        ? <span class="attr">thumbImage</span>[<span class="attr">thumbIndex</span>]</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                        <span class="attr">:</span> <span class="attr">thumbImage</span>) <span class="attr">as</span> <span class="attr">ImageSourcePropType</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            /&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;</span><br><span class="line">            containerStyle,</span><br><span class="line">            debugTouchArea,</span><br><span class="line">            maximumTrackTintColor,</span><br><span class="line">            maximumValue,</span><br><span class="line">            minimumTrackTintColor,</span><br><span class="line">            minimumValue,</span><br><span class="line">            renderAboveThumbComponent,</span><br><span class="line">            renderTrackMarkComponent,</span><br><span class="line">            renderThumbComponent,</span><br><span class="line">            thumbStyle,</span><br><span class="line">            thumbTintColor,</span><br><span class="line">            trackStyle,</span><br><span class="line">            vertical,</span><br><span class="line">            ...other</span><br><span class="line">        &#125; = <span class="variable language_">this</span>.<span class="property">props</span>;</span><br><span class="line">        <span class="keyword">const</span> &#123;</span><br><span class="line">            allMeasured,</span><br><span class="line">            containerSize,</span><br><span class="line">            thumbSize,</span><br><span class="line">            trackMarksValues,</span><br><span class="line">            values,</span><br><span class="line">        &#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">        <span class="keyword">const</span> interpolatedThumbValues = values.<span class="title function_">map</span>(<span class="function">(<span class="params">value</span>) =&gt;</span></span><br><span class="line">            value.<span class="title function_">interpolate</span>(&#123;</span><br><span class="line">                <span class="attr">inputRange</span>: [minimumValue, maximumValue],</span><br><span class="line">                <span class="attr">outputRange</span>: I18nManager.<span class="property">isRTL</span></span><br><span class="line">                    ? [<span class="number">0</span>, -(containerSize.<span class="property">width</span> - thumbSize.<span class="property">width</span>)]</span><br><span class="line">                    : [<span class="number">0</span>, containerSize.<span class="property">width</span> - thumbSize.<span class="property">width</span>],</span><br><span class="line">            &#125;),</span><br><span class="line">        );</span><br><span class="line">        <span class="keyword">const</span> interpolatedTrackValues = values.<span class="title function_">map</span>(<span class="function">(<span class="params">value</span>) =&gt;</span></span><br><span class="line">            value.<span class="title function_">interpolate</span>(&#123;</span><br><span class="line">                <span class="attr">inputRange</span>: [minimumValue, maximumValue],</span><br><span class="line">                <span class="attr">outputRange</span>: [<span class="number">0</span>, containerSize.<span class="property">width</span> - thumbSize.<span class="property">width</span>],</span><br><span class="line">            &#125;),</span><br><span class="line">        );</span><br><span class="line">        <span class="keyword">const</span> interpolatedTrackMarksValues =</span><br><span class="line">            trackMarksValues &amp;&amp;</span><br><span class="line">            trackMarksValues.<span class="title function_">map</span>(<span class="function">(<span class="params">v</span>) =&gt;</span></span><br><span class="line">                v.<span class="title function_">interpolate</span>(&#123;</span><br><span class="line">                    <span class="attr">inputRange</span>: [minimumValue, maximumValue],</span><br><span class="line">                    <span class="attr">outputRange</span>: I18nManager.<span class="property">isRTL</span></span><br><span class="line">                        ? [<span class="number">0</span>, -(containerSize.<span class="property">width</span> - thumbSize.<span class="property">width</span>)]</span><br><span class="line">                        : [<span class="number">0</span>, containerSize.<span class="property">width</span> - thumbSize.<span class="property">width</span>],</span><br><span class="line">                &#125;),</span><br><span class="line">            );</span><br><span class="line">        <span class="keyword">const</span> valueVisibleStyle = &#123;&#125; <span class="keyword">as</span> <span class="title class_">ViewStyle</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!allMeasured) &#123;</span><br><span class="line">            valueVisibleStyle.<span class="property">opacity</span> = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> interpolatedRawValues = <span class="variable language_">this</span>.<span class="title function_">_getRawValues</span>(</span><br><span class="line">            interpolatedTrackValues,</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> minThumbValue = <span class="keyword">new</span> <span class="title class_">Animated</span>.<span class="title class_">Value</span>(</span><br><span class="line">            <span class="title class_">Math</span>.<span class="title function_">min</span>(...interpolatedRawValues),</span><br><span class="line">        );</span><br><span class="line">        <span class="keyword">const</span> maxThumbValue = <span class="keyword">new</span> <span class="title class_">Animated</span>.<span class="title class_">Value</span>(</span><br><span class="line">            <span class="title class_">Math</span>.<span class="title function_">max</span>(...interpolatedRawValues),</span><br><span class="line">        );</span><br><span class="line">        <span class="keyword">const</span> minimumTrackStyle = &#123;</span><br><span class="line">            <span class="attr">position</span>: <span class="string">&#x27;absolute&#x27;</span>,</span><br><span class="line">            <span class="attr">left</span>:</span><br><span class="line">                interpolatedTrackValues.<span class="property">length</span> === <span class="number">1</span></span><br><span class="line">                    ? <span class="keyword">new</span> <span class="title class_">Animated</span>.<span class="title class_">Value</span>(<span class="number">0</span>)</span><br><span class="line">                    : <span class="title class_">Animated</span>.<span class="title function_">add</span>(minThumbValue, thumbSize.<span class="property">width</span> / <span class="number">2</span>),</span><br><span class="line">            <span class="attr">width</span>:</span><br><span class="line">                interpolatedTrackValues.<span class="property">length</span> === <span class="number">1</span></span><br><span class="line">                    ? <span class="title class_">Animated</span>.<span class="title function_">add</span>(</span><br><span class="line">                          interpolatedTrackValues[<span class="number">0</span>],</span><br><span class="line">                          thumbSize.<span class="property">width</span> / <span class="number">2</span>,</span><br><span class="line">                      )</span><br><span class="line">                    : <span class="title class_">Animated</span>.<span class="title function_">add</span>(</span><br><span class="line">                          <span class="title class_">Animated</span>.<span class="title function_">multiply</span>(minThumbValue, -<span class="number">1</span>),</span><br><span class="line">                          maxThumbValue,</span><br><span class="line">                      ),</span><br><span class="line">            <span class="attr">backgroundColor</span>: minimumTrackTintColor,</span><br><span class="line">            ...valueVisibleStyle,</span><br><span class="line">        &#125; <span class="keyword">as</span> <span class="title class_">ViewStyle</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> touchOverflowStyle = <span class="variable language_">this</span>.<span class="title function_">_getTouchOverflowStyle</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;&gt;</span></span></span><br><span class="line"><span class="language-xml">                &#123;renderAboveThumbComponent &amp;&amp; (</span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;styles.aboveThumbComponentsContainer&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        &#123;interpolatedThumbValues.map((value, i) =&gt; (</span></span><br><span class="line"><span class="language-xml">                            <span class="tag">&lt;<span class="name">Animated.View</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                <span class="attr">key</span>=<span class="string">&#123;</span>`<span class="attr">slider-above-thumb-</span>$&#123;<span class="attr">i</span>&#125;`&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                <span class="attr">style</span>=<span class="string">&#123;[</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                    <span class="attr">styles.renderThumbComponent</span>, // <span class="attr">eslint-disable-next-line</span> <span class="attr">react-native</span>/<span class="attr">no-inline-styles</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                    &#123;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                        <span class="attr">bottom:</span> <span class="attr">0</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                        <span class="attr">transform:</span> [</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                            &#123;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                                <span class="attr">translateX:</span> <span class="attr">value</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                            &#125;,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                            &#123;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                                <span class="attr">translateY:</span> <span class="attr">0</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                            &#125;,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                        ],</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                        <span class="attr">...valueVisibleStyle</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                    &#125;,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                ]&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">                                &#123;renderAboveThumbComponent(i)&#125;</span></span><br><span class="line"><span class="language-xml">                            <span class="tag">&lt;/<span class="name">Animated.View</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        ))&#125;</span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;/<span class="name">View</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                )&#125;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">View</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                    &#123;<span class="attr">...other</span>&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                    <span class="attr">style</span>=<span class="string">&#123;[styles.container,</span> <span class="attr">vertical</span> ? &#123;<span class="attr">transform:</span> [&#123;<span class="attr">rotate:</span> &#x27;<span class="attr">-90deg</span>&#x27; &#125;]&#125; <span class="attr">:</span> &#123;&#125;, <span class="attr">containerStyle</span>]&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                    <span class="attr">onLayout</span>=<span class="string">&#123;this._measureContainer&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">View</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                        <span class="attr">renderToHardwareTextureAndroid</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                        <span class="attr">style</span>=<span class="string">&#123;[</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                            <span class="attr">styles.track</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                            &#123;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                <span class="attr">backgroundColor:</span> <span class="attr">maximumTrackTintColor</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                            &#125;,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                            <span class="attr">trackStyle</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                        ]&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                        <span class="attr">onLayout</span>=<span class="string">&#123;this._measureTrack&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                    /&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">Animated.View</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                        <span class="attr">renderToHardwareTextureAndroid</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                        <span class="attr">style</span>=<span class="string">&#123;[styles.track,</span> <span class="attr">trackStyle</span>, <span class="attr">minimumTrackStyle</span>]&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                    /&gt;</span></span></span><br><span class="line"><span class="language-xml">                    &#123;renderTrackMarkComponent &amp;&amp;</span></span><br><span class="line"><span class="language-xml">                        interpolatedTrackMarksValues &amp;&amp;</span></span><br><span class="line"><span class="language-xml">                        interpolatedTrackMarksValues.map((value, i) =&gt; (</span></span><br><span class="line"><span class="language-xml">                            <span class="tag">&lt;<span class="name">Animated.View</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                <span class="attr">key</span>=<span class="string">&#123;</span>`<span class="attr">track-mark-</span>$&#123;<span class="attr">i</span>&#125;`&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                <span class="attr">style</span>=<span class="string">&#123;[</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                    <span class="attr">styles.renderThumbComponent</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                    &#123;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                        <span class="attr">transform:</span> [</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                            &#123;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                                <span class="attr">translateX:</span> <span class="attr">value</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                            &#125;,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                            &#123;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                                <span class="attr">translateY:</span> <span class="attr">0</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                            &#125;,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                        ],</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                        <span class="attr">...valueVisibleStyle</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                    &#125;,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                ]&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">                                &#123;renderTrackMarkComponent(i)&#125;</span></span><br><span class="line"><span class="language-xml">                            <span class="tag">&lt;/<span class="name">Animated.View</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        ))&#125;</span></span><br><span class="line"><span class="language-xml">                    &#123;interpolatedThumbValues.map((value, i) =&gt; (</span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;<span class="name">Animated.View</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                            <span class="attr">key</span>=<span class="string">&#123;</span>`<span class="attr">slider-thumb-</span>$&#123;<span class="attr">i</span>&#125;`&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                            <span class="attr">style</span>=<span class="string">&#123;[</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                <span class="attr">renderThumbComponent</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                    ? <span class="attr">styles.renderThumbComponent</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                    <span class="attr">:</span> <span class="attr">styles.thumb</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                <span class="attr">renderThumbComponent</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                    ? &#123;&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                    <span class="attr">:</span> &#123;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                          <span class="attr">backgroundColor:</span> <span class="attr">thumbTintColor</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                          <span class="attr">...thumbStyle</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                      &#125;,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                &#123;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                    <span class="attr">transform:</span> [</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                        &#123;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                            <span class="attr">translateX:</span> <span class="attr">value</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                        &#125;,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                        &#123;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                            <span class="attr">translateY:</span> <span class="attr">0</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                        &#125;,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                    ],</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                    <span class="attr">...valueVisibleStyle</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                &#125;,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                            ]&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                            <span class="attr">onLayout</span>=<span class="string">&#123;this._measureThumb&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                            &#123;renderThumbComponent</span></span><br><span class="line"><span class="language-xml">                                ? renderThumbComponent()</span></span><br><span class="line"><span class="language-xml">                                : this._renderThumbImage(i)&#125;</span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;/<span class="name">Animated.View</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    ))&#125;</span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">View</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                        <span class="attr">style</span>=<span class="string">&#123;[styles.touchArea,</span> <span class="attr">touchOverflowStyle</span>]&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                        &#123;<span class="attr">...this._panResponder.panHandlers</span>&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">                        &#123;!!debugTouchArea &amp;&amp;</span></span><br><span class="line"><span class="language-xml">                            interpolatedThumbValues.map((value, i) =&gt;</span></span><br><span class="line"><span class="language-xml">                                this._renderDebugThumbTouchRect(value, i),</span></span><br><span class="line"><span class="language-xml">                            )&#125;</span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;/<span class="name">View</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">View</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="导入部分："><a href="#导入部分：" class="headerlink" title="导入部分："></a>导入部分：</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Slider</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;所放的上述组件路径&#x27;</span></span><br><span class="line"></span><br><span class="line">&lt;<span class="title class_">Slider</span></span><br><span class="line">minimumValue=&#123;<span class="number">1</span>&#125;</span><br><span class="line">maximumValue=&#123;<span class="number">7</span>&#125;  <span class="comment">//可滑动范围为1到7</span></span><br><span class="line">minimumTrackTintColor=<span class="string">&quot;#0A79C3&quot;</span> </span><br><span class="line">maximumTrackTintColor=<span class="string">&quot;#F3F3F3&quot;</span></span><br><span class="line">step=&#123;<span class="number">1</span>&#125; <span class="comment">//步长</span></span><br><span class="line">value=&#123;targetDay&#125; <span class="comment">//默认值，例如4</span></span><br><span class="line">onValueChange=&#123;<span class="function"><span class="params">targetDays</span> =&gt;</span> <span class="title function_">dispatch</span>(&#123;</span><br><span class="line">	<span class="attr">type</span>: <span class="string">&#x27;SetupWeekTarget/updateState&#x27;</span>,</span><br><span class="line">	<span class="attr">payload</span>: &#123; <span class="attr">targetDay</span>: targetDays &#125;</span><br><span class="line">&#125;)&#125;  <span class="comment">//滑动触发的事件</span></span><br><span class="line">trackStyle=&#123;&#123; <span class="attr">height</span>: <span class="number">10</span>, <span class="attr">borderRadius</span>: <span class="number">12</span> &#125;&#125;  </span><br><span class="line">containerStyle=&#123;&#123; <span class="attr">width</span>: <span class="variable constant_">SCREEN_WIDTH</span> - <span class="number">90</span> &#125;&#125;</span><br><span class="line">thumbTintColor=<span class="string">&quot;transparent&quot;</span></span><br><span class="line">thumbImage=&#123;<span class="built_in">require</span>(<span class="string">&#x27;图片路径&#x27;</span>)&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>


<h2 id="详细参数可参考链接："><a href="#详细参数可参考链接：" class="headerlink" title="详细参数可参考链接："></a>详细参数可参考链接：</h2><p><a target="_blank" rel="noopener" href="https://github.com/miblanchard/react-native-slider">https://github.com/miblanchard/react-native-slider</a></p>

      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lidyaqf.github.io/2025/07/21/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%AA%8C%E8%AF%81%E7%A0%81%E8%BE%93%E5%85%A5%E6%A1%86%E8%87%AA%E5%8A%A8%E8%81%9A%E7%84%A6%E4%B8%8B%E4%B8%AA%E8%BE%93%E5%85%A5%E6%A1%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="lidya">
      <meta itemprop="description" content="服人以诚不以言">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫叶白">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/07/21/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%AA%8C%E8%AF%81%E7%A0%81%E8%BE%93%E5%85%A5%E6%A1%86%E8%87%AA%E5%8A%A8%E8%81%9A%E7%84%A6%E4%B8%8B%E4%B8%AA%E8%BE%93%E5%85%A5%E6%A1%86/" class="post-title-link" itemprop="url">小程序验证码输入框自动聚焦下个输入框</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2025-07-21 09:44:17 / 修改时间：11:54:13" itemprop="dateCreated datePublished" datetime="2025-07-21T09:44:17+08:00">2025-07-21</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>最开始我想的是有多少个输入框，就放多少个input，做完会发现有各种bug。比如键盘突然消失、没聚焦下个输入框、操作不丝滑等。<br>正确思路是一个输入框就够了，然后通过改变样式（间隔、高亮）来实现，就是表面看起来是六个输入框，本质上只有一个input</p>
<h2 id="正确解法："><a href="#正确解法：" class="headerlink" title="正确解法："></a>正确解法：</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;w-80 h-100 rad-10 b-a-9 tc f-50&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index)  in 6&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;w-80 h-100 &quot;</span> <span class="attr">maxlength</span>=<span class="string">&quot;1&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>    @<span class="attr">input</span>=<span class="string">&quot;inputListener(index)&quot;</span>   <span class="attr">:focus</span>=<span class="string">&quot;focus &amp;&amp; (focusIndex == index)&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span> </span><br></pre></td></tr></table></figure>


<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">        <span class="attr">focus</span>: <span class="literal">true</span>,</span><br><span class="line">		<span class="attr">code</span>:[<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>],<span class="comment">// 需要获取焦点的序号</span></span><br><span class="line">		<span class="attr">focusIndex</span>: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="attr">method</span>:&#123;</span><br><span class="line">      <span class="comment">// 输入时事件</span></span><br><span class="line">	<span class="title function_">inputListener</span>(<span class="params">e</span>) &#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">focusIndex</span> != e)<span class="variable language_">this</span>.<span class="property">focusIndex</span>=e</span><br><span class="line">		<span class="keyword">if</span> (e &lt; <span class="number">6</span>) &#123;</span><br><span class="line">					<span class="variable language_">this</span>.<span class="property">focus</span>=<span class="literal">true</span>,</span><br><span class="line">					<span class="variable language_">this</span>.<span class="property">focusIndex</span>=e + <span class="number">1</span></span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="variable language_">this</span>.<span class="property">focus</span>=<span class="literal">false</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="完整版可参考链接："><a href="#完整版可参考链接：" class="headerlink" title="完整版可参考链接："></a>完整版可参考链接：</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u011423258/article/details/106683068?spm=1001.2014.3001.5506">https://blog.csdn.net/u011423258/article/details/106683068?spm=1001.2014.3001.5506</a></p>

      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lidyaqf.github.io/2025/07/16/node%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E7%82%B9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="lidya">
      <meta itemprop="description" content="服人以诚不以言">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫叶白">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/07/16/node%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E7%82%B9/" class="post-title-link" itemprop="url">聊聊Node RPC</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-07-16 00:00:00" itemprop="dateCreated datePublished" datetime="2025-07-16T00:00:00+08:00">2025-07-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-07-17 14:13:52" itemprop="dateModified" datetime="2025-07-17T14:13:52+08:00">2025-07-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">后端</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="什么是序列化"><a href="#什么是序列化" class="headerlink" title="什么是序列化"></a>什么是序列化</h2><p>在 TCP 通道里传输的数据只能是二进制形式的，所以将数据结构或对象转化成二进制的形式就叫序列化。反过来就叫反序列化，他们之间的规则就叫协议。</p>
<h2 id="RPC是什么"><a href="#RPC是什么" class="headerlink" title="RPC是什么"></a>RPC是什么</h2><p>全称是Remote Procedure Call， 中文名字叫远程过程调用。大部份的 RPC 是基于TCP的。具体实现流程如下：</p>
<p>1、前端通过 Proxy 代理调用相应的接口, Proxy 将 RPC 的服务名，方法名，参数等信息转换成 RPC Request 对象，交给 RPC 框架<br>2、RPC 框架通过 RPC 协议将 RPC Request 对象序列化成二进制形式<br>3、RPC 通过 TCP 通道把二进制数据传递给后端<br>4、后端将二进制数据反序列化成 RPC Request 对象<br>5、后端将反序列化后的数据对应到自己写的方法内，传入参数，获取数据，将获取后的数据进行封装，封装成 RPC Response 交给 RPC 框架<br>6、RPC 框架通过 RPC 协议将 RPC Response 对象序列化成二进制形式, 通过 TCP 通道传递给前端<br>6、前端将收到的二进制数据反序列化成 RPC response 对象，将结果通过 Proxy 返回给业务代码</p>

      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lidyaqf.github.io/2025/07/15/%E5%88%9D%E4%B8%AD%E8%8B%B1%E8%AF%AD%E6%95%99%E8%B5%84%E8%AF%AD%E7%AF%87%E8%AF%BE%E6%A8%A1%E6%9D%BF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="lidya">
      <meta itemprop="description" content="服人以诚不以言">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫叶白">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/07/15/%E5%88%9D%E4%B8%AD%E8%8B%B1%E8%AF%AD%E6%95%99%E8%B5%84%E8%AF%AD%E7%AF%87%E8%AF%BE%E6%A8%A1%E6%9D%BF/" class="post-title-link" itemprop="url">初中英语教师资格语篇课模版</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-07-15 10:20:00" itemprop="dateCreated datePublished" datetime="2025-07-15T10:20:00+08:00">2025-07-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-07-17 14:12:41" itemprop="dateModified" datetime="2025-07-17T14:12:41+08:00">2025-07-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%99%E8%B5%84/" itemprop="url" rel="index"><span itemprop="name">教资</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>The intonation.（语调）<br>Express the different feelings of the speaker.<br>We often use the falling tone when we read a statement, a special question, an exclamatory or imperative sentence(祈使句、感叹句). We often use rising tone when we ask a Yes&#x2F;No question. We often use rising-falling tone to read an alternative question and a coordinate clause（选择疑问句、并列句）. There are two parts in a tag question（反义疑问句）. The first part is often in a falling tone and for second part, there are two cases. If we are not sure about the question, we often use a rising tone. If we are sure about that, we offen use a falling tone.<br>We choose different intonations to express different feelings and moods.</p>
<p>The word stress(单词重音)<br>Read words more exactly<br>When we say a word with more than one syllable, some of the syllables need to be stressed.<br>When we read two-syllable words, normally we stress the first syllable for nouns, and stress the second syllable for verbs. As for the multi-syllable words, we stress the third from the bottom.</p>
<p>The sentence stress（句子重读）<br>Draw attention to certain information.<br>We usually stress the lexical words such as nouns, verbs, adjectives, adverbs and numbers. We don’t stress the function words such as a, the, is, of and so on. Besides, you can stress some information you want to emphasis.<br>We should change it according to the situation and feelings of the speaker.</p>
<p>The liaison&#x2F;ˈlēəˌzän,lēˈāˌzän&#x2F;&#x2F;Word linking.(连读)<br>Speak English more fluently and naturally.<br>In one sense group, we can read the two words together if the former word ends with a consonant&#x2F;ˈkänsənənt&#x2F;, a vowel or “r” sound, and the following word begins with a vowel. If the two words finish and start with the same consonant, we only read one of the consonants.<br>The two words must be in one sense group.</p>
<p>incomplete plosion&#x2F;‘pləʊʒ(ə)n&#x2F;（不完全爆破）<br>Speak English more fluently and naturally.<br>There are six plosive sounds &#x2F;t&#x2F; &#x2F;d&#x2F; &#x2F;p&#x2F; &#x2F;b&#x2F; &#x2F;k&#x2F; &#x2F;g&#x2F; in English.When two consonants of them are next to each other, we read the former sound silently.<br>The two words must be in one sense group.</p>
<p>Weak form(弱读)<br>speak English more fluently and naturally.<br>Some words often appear in a weak form such as function words, articles, auxiliary verbs and modal verbs.<br>there are mainly three ways to change function words to weak forms. They are shortening, elision[ i’liʒən ] and vowel changed to schwa  [ʃwɑ:] sound.</p>
<p>Assimilation(同化)<br>We use it to speak English more fluently and naturally.<br>As we can see, Two different sounds affect each other and become more alike.<br>&#x2F;s+ j&#x2F; -&gt; &#x2F;F&#x2F;this year,&#x2F;d+j&#x2F; -&gt; &#x2F;d3&#x2F; would you</p>
<p>Sense group(意群)<br>We use it to make our expression more easily to understand.<br>As we can see, a sentence may consists of several groups according to meaning or structure. Each group is called a sense group. It can be a word, a phrase, a clause. After a sense group, there should be a short pause.<br>We should remind that we should change it according to the situation and feelings of the speaker.</p>
<p>The pause(停顿)<br>We use to speak English more fluently and naturally.<br>As we can see, in a long sentence, we should pause several times according to the sense group. Normally, we pause based on meaning and grammatical structure.<br>We should remind that there should be no pause in a sense group. Where to pause also depends on the situation and the feelings of the speaker.</p>

      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lidyaqf.github.io/2025/07/14/%E5%88%9D%E4%B8%AD%E8%8B%B1%E8%AF%AD%E6%95%99%E8%B5%84%E4%BD%9C%E6%96%87%E6%A8%A1%E7%89%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="lidya">
      <meta itemprop="description" content="服人以诚不以言">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫叶白">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/07/14/%E5%88%9D%E4%B8%AD%E8%8B%B1%E8%AF%AD%E6%95%99%E8%B5%84%E4%BD%9C%E6%96%87%E6%A8%A1%E7%89%88/" class="post-title-link" itemprop="url">初中英语教师资格作文课模版</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-07-14 09:20:00" itemprop="dateCreated datePublished" datetime="2025-07-14T09:20:00+08:00">2025-07-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-07-17 14:12:45" itemprop="dateModified" datetime="2025-07-17T14:12:45+08:00">2025-07-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%99%E8%B5%84/" itemprop="url" rel="index"><span itemprop="name">教资</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="开场问候"><a href="#开场问候" class="headerlink" title="开场问候"></a>开场问候</h2><p>Dear Judges, Now I’ll start the lesson. Good morning, Boys and girls. How are you today? Good? Fine? I’m fine, too. Before the class, Let’s sing a song together. If you can sing, sing along with me . “You are my sunshine, my only sunshine, you make me happy.” Do you feel better? Great, let’s start the lesson.<br>At the beginning, I’ll show you a video, and you should try to answer the question: What can you see in the video? Who would like to try? Blair, please. You saw the girl had much fun. She had dinner and went shopping with friends. Thank you, Blair, you set a good example for us. You know so much about this topic. Do you want to learn more? Today, let’s learn a new lesson — How was your day off.</p>
<h2 id="导入"><a href="#导入" class="headerlink" title="导入"></a>导入</h2><p>OK, everyone, here is a passage. I’ll read it for you. You should listen carefully and tell me the main idea, OK? Here we go! …….OK, Please share your ideas. Jenny, you please. It talks about the Bermuda Triangle, where a number of planes and ships disappeared.Do you agree? I totally agree with her.</p>
<h2 id="Pre"><a href="#Pre" class="headerlink" title="Pre"></a>Pre</h2><p>Boys and girls, since we already know the content of the letter, Let’s look at the structure of the letter.There are 4 parts of it, right?<br>The first one is to whom. We call it salutation&#x2F;ˌsalyəˈtāSH(ə)n&#x2F;, such as Hi Henry, Dear Lucy and so on. The second part is body part. You can write whatever you want. The third part, we often add complementary close&#x2F;wishes, such as ‘yours’, ‘sincerely’. The last part is from whom, we call it signature. Am I clear? So when we write a letter, we can imitate it. Brilliant!</p>
<p>the first part is introduction. It’s a fun day last Saturday. The second part is main body, it’s about what they did in the morning, afternoon and so on. The third part is conclusion. So if we want to write out our everyday life, we can imitate this structure, OK?</p>
<h2 id="写前"><a href="#写前" class="headerlink" title="写前"></a>写前</h2><p>Before writing, let’s have a brainstorm. As Tom, what information can you write to reply to Nick’s letter? You can have a discussion in groups. 3 minutes for you. Stop! Who can try, this boy? You will write some activities during camping. Your ideas are wonderful. Bravo! Thank you.<br>OK，I can see you all have many ideas. How about writing down your ideas with the structure we just learned. You have 2 minutes to design your outline.OK, time is up. Finished? I see all of you nod your heads. Very good!<br>It’s time to finish the whole letter. While writing, you should pay attention to the grammar.We should use simple past tense to talk about the experience in the past.And for the signature, you should write”Tom”. If you have any problems, just raise your hands, and I will help you. Are you ready? Let’s do it.</p>
<h2 id="写后"><a href="#写后" class="headerlink" title="写后"></a>写后</h2><p>Have you finished your writing? Show me your hands. Well done. Next, go over your writing one more time and then exchange it with your group members.Try to check and correct the mistakes, got it? You have 2 minutes.<br>Stop here.Who wants to share your writing? Cindy, please. Wow, good pronunciation. You state the story vividly. The logic is clear! OK, anyone else? Tony. Please. Oh, you want to present Tina’s article.Can you read it? Very good. Thank you, Tony. Guys, Let’s look at Tina’s work together. “Tom” went to a mountain for camping. I think her article is perfect. We can learn a lot from it. Boys and girls, you all did a good job!</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>How time files! The class is almost over. Before ending our class, let’s have a summary. Who can summarize what we have learned this class? Fiona please. Very good. I hope you can apply what we have learned in your daily life so that we can improve our reading and speaking ability, right?<br>Our homework is as follows: You should finish the exercise book and search for more information about ask your parents about their day off. Next class, we will share them together.</p>
<p>Class is over, see you next time.</p>

      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="lidya"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">lidya</p>
  <div class="site-description" itemprop="description">服人以诚不以言</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">24</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lidya</span>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    if (location.pathname.startsWith('/ening/')) {
      const item = document.querySelector('.menu-item-english');
      if (item) item.style.display = 'none';
    }
  });
</script>
        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


</body>
</html>
