<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
<style>
    .contain {
      position: relative;
      width: 100%;
      height: 50px;
      background: #f0f0f0;
      overflow: hidden;
    }
  
    .danmaku {
      position: absolute;
      white-space: nowrap;
      top: 50%;
      transform: translateY(-50%);
      font-size: 14px;
      color: #333;
      animation: moveLeft 15s linear forwards;
    }
  
    .danmaku.paused {
      animation-play-state: paused;
    }
  
    @keyframes moveLeft {
      from {
        left: 100%;
      }
      to {
        left: -100%;
      }
    }
  </style>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.svg">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.svg">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
<meta name="baidu_union_verify" content="4c95743ab0ae1a7dcfbc5c20c004854b">


<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic|Source Code Pro:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"lidyaqf.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"livere","storage":true,"lazyload":false,"nav":null,"activeClass":"livere"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"manual","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>






  <meta property="og:type" content="website">
<meta property="og:title" content="My English Blog">
<meta property="og:url" content="https://lidyaqf.github.io/index.html">
<meta property="og:site_name" content="My English Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="lidya">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://lidyaqf.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>My English Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">My English Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/ening/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/ening/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/ening/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-english">

    <a href="/ening" rel="section"><i class="fa fa-language fa-fw"></i>English</a>

  </li>
        <li class="menu-item menu-item-中文">

    <a href="/../" rel="section"><i class="fa fa-language fa-fw"></i>中文</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://lidyaqf.github.io/2025/12/18/%E6%89%8B%E5%86%99Promise/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="lidya">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My English Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/12/18/%E6%89%8B%E5%86%99Promise/" class="post-title-link" itemprop="url">Handwriting Promise.race (From Theory to Practice)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-12-18 00:00:00 / Modified: 17:48:32" itemprop="dateCreated datePublished" datetime="2025-12-18T00:00:00+08:00">2025-12-18</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Frontend/" itemprop="url" rel="index"><span itemprop="name">Frontend</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>In frontend interviews and daily development, <code>Promise.race</code> is a very common yet often overlooked API. Its rule is simple:</p>
<blockquote>
<p><strong>Multiple Promises “race” against each other—whichever settles first (fulfilled or rejected) determines the final result.</strong></p>
</blockquote>
<p>In this article, we will:</p>
<ul>
<li>Clearly explain how <code>Promise.race</code> behaves and when to use it</li>
<li>Implement a custom <code>myPromiseRace</code> from scratch</li>
<li>Cover edge cases, optimizations, and common interview questions</li>
</ul>
<h2 id="1-What-Is-Promise-race"><a href="#1-What-Is-Promise-race" class="headerlink" title="1. What Is Promise.race?"></a>1. What Is Promise.race?</h2><p><code>Promise.race(iterable)</code> accepts an iterable (usually an array) and returns a new Promise:</p>
<ul>
<li>If <strong>any Promise fulfills first</strong>, the returned Promise fulfills</li>
<li>If <strong>any Promise rejects first</strong>, the returned Promise rejects</li>
<li>It does <strong>not</strong> wait for all Promises to finish</li>
<li>It does <strong>not</strong> cancel the remaining Promises—they continue running</li>
</ul>
<h2 id="2-Common-Use-Cases"><a href="#2-Common-Use-Cases" class="headerlink" title="2. Common Use Cases"></a>2. Common Use Cases</h2><h3 id="2-1-Timeout-Control-Most-Common"><a href="#2-1-Timeout-Control-Most-Common" class="headerlink" title="2.1 Timeout Control (Most Common)"></a>2.1 Timeout Control (Most Common)</h3><p>For example, treat a request as failed if it takes longer than 3 seconds:</p>
<ul>
<li><code>fetch(url)</code> vs <code>timeoutPromise(3000)</code></li>
<li>Whichever finishes first determines the result</li>
</ul>
<h3 id="2-2-Multiple-Data-Sources-Fallback-Strategy"><a href="#2-2-Multiple-Data-Sources-Fallback-Strategy" class="headerlink" title="2.2 Multiple Data Sources (Fallback Strategy)"></a>2.2 Multiple Data Sources (Fallback Strategy)</h3><p>Fetch the same resource from multiple CDNs (CDN1&#x2F;CDN2).<br>Use whichever responds first.</p>
<h3 id="2-3-First-Render-Racing"><a href="#2-3-First-Render-Racing" class="headerlink" title="2.3 First-Render Racing"></a>2.3 First-Render Racing</h3><p>Load primary data, fallback data, and cached data simultaneously.<br>Render the page as soon as the fastest result arrives.</p>
<h2 id="3-Implementing-myPromiseRace"><a href="#3-Implementing-myPromiseRace" class="headerlink" title="3. Implementing myPromiseRace"></a>3. Implementing <code>myPromiseRace</code></h2><p>This implementation closely matches native behavior:</p>
<ul>
<li>Validates that the input is iterable</li>
<li>Iterates over all inputs</li>
<li>Uses <code>Promise.resolve</code> to normalize non-Promise values</li>
<li>Resolves or rejects as soon as one Promise settles</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myPromiseRace</span>(<span class="params">promises</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// Validate iterable input</span></span><br><span class="line">    <span class="keyword">if</span> (!promises || <span class="keyword">typeof</span> promises[<span class="title class_">Symbol</span>.<span class="property">iterator</span>] !== <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&#x27;Argument is not iterable&#x27;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Iterate over each Promise or value</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> promise <span class="keyword">of</span> promises) &#123;</span><br><span class="line">      <span class="comment">// Wrap with Promise.resolve to handle thenables and values</span></span><br><span class="line">      <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(promise)</span><br><span class="line">        .<span class="title function_">then</span>(resolve)   <span class="comment">// First fulfilled wins</span></span><br><span class="line">        .<span class="title function_">catch</span>(reject);  <span class="comment">// First rejected wins</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="4-Key-Insight-Why-Use-Promise-resolve"><a href="#4-Key-Insight-Why-Use-Promise-resolve" class="headerlink" title="4. Key Insight: Why Use Promise.resolve?"></a>4. Key Insight: Why Use <code>Promise.resolve</code>?</h2><p>The input to <code>Promise.race</code> does not have to be Promises. It may include:</p>
<ul>
<li>Plain values: <code>Promise.race([1, 2, 3])</code></li>
<li>Thenables: <code>&#123; then(resolve) &#123; resolve(123) &#125; &#125;</code></li>
</ul>
<p>Using <code>Promise.resolve(x)</code> ensures:</p>
<ul>
<li>Plain values become immediately fulfilled Promises</li>
<li>Thenables are properly assimilated into the Promise chain</li>
</ul>
<p>This behavior is consistent with the native <code>Promise.race</code>.</p>
<h2 id="5-Handling-Empty-Iterables"><a href="#5-Handling-Empty-Iterables" class="headerlink" title="5. Handling Empty Iterables"></a>5. Handling Empty Iterables</h2><blockquote>
<p>Native <code>Promise.race([])</code> returns a Promise that remains <strong>pending forever</strong>.</p>
</blockquote>
<p>Your current implementation behaves the same way, since the loop never executes.<br>This matches the ECMAScript specification.</p>
<p>You <em>could</em> add explicit handling, but it’s not required.</p>
<h2 id="6-Additional-Test-Cases"><a href="#6-Additional-Test-Cases" class="headerlink" title="6. Additional Test Cases"></a>6. Additional Test Cases</h2><h3 id="6-1-Rejection-Wins-First"><a href="#6-1-Rejection-Wins-First" class="headerlink" title="6.1 Rejection Wins First"></a>6.1 Rejection Wins First</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">res</span>(<span class="string">&#x27;p1&#x27;</span>), <span class="number">1000</span>));</span><br><span class="line"><span class="keyword">const</span> p2 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">res</span>(<span class="string">&#x27;p2&#x27;</span>), <span class="number">500</span>));</span><br><span class="line"><span class="keyword">const</span> p3 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">rej</span>(<span class="string">&#x27;p3 error&#x27;</span>), <span class="number">300</span>));</span><br><span class="line"></span><br><span class="line"><span class="title function_">myPromiseRace</span>([p1, p2, p3])</span><br><span class="line">  .<span class="title function_">then</span>(<span class="variable language_">console</span>.<span class="property">log</span>)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="variable language_">console</span>.<span class="property">error</span>); <span class="comment">// Output: p3 error</span></span><br></pre></td></tr></table></figure>



<h3 id="6-2-Plain-Values-Participate-in-the-Race"><a href="#6-2-Plain-Values-Participate-in-the-Race" class="headerlink" title="6.2 Plain Values Participate in the Race"></a>6.2 Plain Values Participate in the Race</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">myPromiseRace</span>([</span><br><span class="line">  <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;A&#x27;</span>),</span><br><span class="line">  <span class="number">123</span>,</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">res</span>(<span class="string">&#x27;B&#x27;</span>), <span class="number">10</span>))</span><br><span class="line">])</span><br><span class="line">  .<span class="title function_">then</span>(<span class="variable language_">console</span>.<span class="property">log</span>)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="variable language_">console</span>.<span class="property">error</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Output: 123 (plain value wins immediately)</span></span><br></pre></td></tr></table></figure>



<h3 id="6-3-Empty-Array-Remains-Pending"><a href="#6-3-Empty-Array-Remains-Pending" class="headerlink" title="6.3 Empty Array Remains Pending"></a>6.3 Empty Array Remains Pending</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="title function_">myPromiseRace</span>([]);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;still pending...&#x27;</span>), <span class="number">1000</span>);</span><br><span class="line"><span class="comment">// After 1 second: &quot;still pending...&quot;</span></span><br></pre></td></tr></table></figure>



<h2 id="7-Practical-Example-Request-Timeout-with-race"><a href="#7-Practical-Example-Request-Timeout-with-race" class="headerlink" title="7. Practical Example: Request Timeout with race"></a>7. Practical Example: Request Timeout with <code>race</code></h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">timeout</span>(<span class="params">ms</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">_, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">`Timeout after <span class="subst">$&#123;ms&#125;</span>ms`</span>)), ms);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fetchWithTimeout</span>(<span class="params">url, ms = <span class="number">3000</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">myPromiseRace</span>([<span class="title function_">fetch</span>(url), <span class="title function_">timeout</span>(ms)]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage</span></span><br><span class="line"><span class="title function_">fetchWithTimeout</span>(<span class="string">&#x27;https://example.com/api&#x27;</span>, <span class="number">2000</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> res.<span class="title function_">json</span>())</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;data:&#x27;</span>, data))</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;error:&#x27;</span>, err.<span class="property">message</span>));</span><br></pre></td></tr></table></figure>



<h2 id="8-Common-Interview-Questions-Bonus-Points"><a href="#8-Common-Interview-Questions-Bonus-Points" class="headerlink" title="8. Common Interview Questions (Bonus Points)"></a>8. Common Interview Questions (Bonus Points)</h2><ul>
<li><p><strong>Q: Can <code>Promise.race</code> cancel the other Promises?</strong><br>No. Promises are not cancellable by default. Cancellation requires tools like <code>AbortController</code> or custom logic.</p>
</li>
<li><p><strong>Q: What happens if you pass a plain value into <code>race</code>?</strong><br>It is wrapped by <code>Promise.resolve</code> and usually wins immediately.</p>
</li>
<li><p><strong>Q: What’s the difference between <code>race</code>, <code>any</code>, and <code>allSettled</code>?</strong></p>
<ul>
<li><code>race</code>: settles as soon as the first Promise settles</li>
<li><code>any</code>: fulfills as soon as the first Promise fulfills (rejects only if all reject)</li>
<li><code>allSettled</code>: waits for all Promises and returns their final states</li>
</ul>
</li>
</ul>
<h2 id="9-Summary"><a href="#9-Summary" class="headerlink" title="9. Summary"></a>9. Summary</h2><p>The core idea behind implementing <code>Promise.race</code> can be summarized in one sentence:</p>
<blockquote>
<p><strong>Iterate over the iterable, wrap each item with <code>Promise.resolve</code>, attach the same <code>resolve</code> and <code>reject</code>, and let the first settled Promise decide the outcome.</strong></p>
</blockquote>

      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://lidyaqf.github.io/2025/12/17/%E6%89%8B%E5%86%99New/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="lidya">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My English Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/12/17/%E6%89%8B%E5%86%99New/" class="post-title-link" itemprop="url">Fully Understanding How the JavaScript `new` Operator Works</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-12-17 00:00:00" itemprop="dateCreated datePublished" datetime="2025-12-17T00:00:00+08:00">2025-12-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-12-19 10:01:28" itemprop="dateModified" datetime="2025-12-19T10:01:28+08:00">2025-12-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Frontend/" itemprop="url" rel="index"><span itemprop="name">Frontend</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>In JavaScript, the <code>new</code> operator is a core concept that frequently appears in both interviews and everyday development.<br>Many developers use <code>new</code> regularly, but few truly understand <strong>what actually happens behind the scenes</strong>.</p>
<p>In this article, we’ll <strong>implement <code>new</code> by hand</strong>, breaking down its internal mechanics step by step to help you fully understand how JavaScript objects are created.</p>
<h2 id="1-What-Does-the-new-Operator-Actually-Do"><a href="#1-What-Does-the-new-Operator-Actually-Do" class="headerlink" title="1. What Does the new Operator Actually Do?"></a>1. What Does the <code>new</code> Operator Actually Do?</h2><p>When we execute the following line of code:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;Alice&#x27;</span>, <span class="number">25</span>);</span><br></pre></td></tr></table></figure>

<p>JavaScript actually performs <strong>four steps internally</strong>:</p>
<ol>
<li><strong>Create a new empty object</strong></li>
<li><strong>Set the object’s prototype to the constructor’s <code>prototype</code></strong></li>
<li><strong>Execute the constructor and bind <code>this</code> to the new object</strong></li>
<li><strong>If the constructor returns an object, return it; otherwise return the new object</strong></li>
</ol>
<p>Understanding these four steps is the key to understanding how <code>new</code> works.</p>
<h2 id="2-Why-Implement-new-Manually"><a href="#2-Why-Implement-new-Manually" class="headerlink" title="2. Why Implement new Manually?"></a>2. Why Implement <code>new</code> Manually?</h2><p>There are three main benefits to handwriting <code>new</code>:</p>
<ul>
<li>Deepens your understanding of <strong>the prototype chain</strong> and <strong><code>this</code> binding</strong></li>
<li>It is a <strong>high-frequency frontend interview question</strong></li>
<li>Helps you understand how frameworks create objects internally</li>
</ul>
<p>Let’s jump straight into the code.</p>
<h2 id="3-Handwriting-the-new-Operator"><a href="#3-Handwriting-the-new-Operator" class="headerlink" title="3. Handwriting the new Operator"></a>3. Handwriting the <code>new</code> Operator</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myNew</span>(<span class="params">constructor, ...args</span>) &#123;</span><br><span class="line">  <span class="comment">// 1. Create a new object and link its prototype</span></span><br><span class="line">  <span class="keyword">const</span> obj = <span class="title class_">Object</span>.<span class="title function_">create</span>(constructor.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2. Execute the constructor with `this` bound to the new object</span></span><br><span class="line">  <span class="keyword">const</span> result = constructor.<span class="title function_">apply</span>(obj, args);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3. If the constructor returns an object, return it</span></span><br><span class="line">  <span class="comment">//    Otherwise, return the newly created object</span></span><br><span class="line">  <span class="keyword">return</span> result <span class="keyword">instanceof</span> <span class="title class_">Object</span> ? result : obj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This implementation fully reproduces the core behavior of the <code>new</code> operator.</p>
<h2 id="4-Line-by-Line-Breakdown"><a href="#4-Line-by-Line-Breakdown" class="headerlink" title="4. Line-by-Line Breakdown"></a>4. Line-by-Line Breakdown</h2><h3 id="1-The-Role-of-Object-create"><a href="#1-The-Role-of-Object-create" class="headerlink" title="1. The Role of Object.create"></a>1. The Role of <code>Object.create</code></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = <span class="title class_">Object</span>.<span class="title function_">create</span>(constructor.<span class="property"><span class="keyword">prototype</span></span>);</span><br></pre></td></tr></table></figure>

<p>This is equivalent to:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj.<span class="property">__proto__</span> === constructor.<span class="property"><span class="keyword">prototype</span></span></span><br></pre></td></tr></table></figure>

<p>Which means:</p>
<ul>
<li>The new object can access methods on the constructor’s prototype</li>
<li>The prototype chain is properly established</li>
</ul>
<h3 id="2-constructor-apply-obj-args"><a href="#2-constructor-apply-obj-args" class="headerlink" title="2. constructor.apply(obj, args)"></a>2. <code>constructor.apply(obj, args)</code></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> result = constructor.<span class="title function_">apply</span>(obj, args);</span><br></pre></td></tr></table></figure>

<p>This step does two things:</p>
<ul>
<li>Executes the constructor function</li>
<li>Binds <code>this</code> inside the constructor to the new object</li>
</ul>
<p>So code like this:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br></pre></td></tr></table></figure>

<p>Actually assigns properties directly to <code>obj</code>.</p>
<h3 id="3-Why-Do-We-Check-the-Return-Value"><a href="#3-Why-Do-We-Check-the-Return-Value" class="headerlink" title="3. Why Do We Check the Return Value?"></a>3. Why Do We Check the Return Value?</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> result <span class="keyword">instanceof</span> <span class="title class_">Object</span> ? result : obj;</span><br></pre></td></tr></table></figure>

<p>This is a detail many developers overlook.</p>
<p>Consider this example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">a</span> = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> &#123; <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> t = <span class="keyword">new</span> <span class="title class_">Test</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(t); <span class="comment">// &#123; b: 2 &#125;</span></span><br></pre></td></tr></table></figure>

<p>If a constructor <strong>explicitly returns an object</strong>, the <code>new</code> operator returns that object instead of <code>this</code>.</p>
<p>That’s why we must handle this case in our <code>myNew</code> implementation.</p>
<h2 id="5-Testing-Our-myNew-Function"><a href="#5-Testing-Our-myNew-Function" class="headerlink" title="5. Testing Our myNew Function"></a>5. Testing Our <code>myNew</code> Function</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="title function_">myNew</span>(<span class="title class_">Person</span>, <span class="string">&#x27;Alice&#x27;</span>, <span class="number">25</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="property">name</span>); <span class="comment">// Alice</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="property">age</span>);  <span class="comment">// 25</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1 <span class="keyword">instanceof</span> <span class="title class_">Person</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>The behavior matches native <code>new</code> perfectly.</p>
<h2 id="6-Comparing-myNew-and-Native-new"><a href="#6-Comparing-myNew-and-Native-new" class="headerlink" title="6. Comparing myNew and Native new"></a>6. Comparing <code>myNew</code> and Native <code>new</code></h2><table>
<thead>
<tr>
<th>Behavior</th>
<th><code>new</code></th>
<th><code>myNew</code></th>
</tr>
</thead>
<tbody><tr>
<td>Create new object</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>Bind prototype</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>Bind <code>this</code></td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>Handle returned object</td>
<td>✅</td>
<td>✅</td>
</tr>
</tbody></table>
<p>In practice, <code>myNew</code> reproduces <strong>about 90% of the real <code>new</code> operator’s behavior</strong>, which is more than sufficient for interviews and deep understanding.</p>
<h2 id="7-Common-Interview-Follow-Up-Questions"><a href="#7-Common-Interview-Follow-Up-Questions" class="headerlink" title="7. Common Interview Follow-Up Questions"></a>7. Common Interview Follow-Up Questions</h2><h3 id="Q1-Why-not-simply-use-const-obj"><a href="#Q1-Why-not-simply-use-const-obj" class="headerlink" title="Q1: Why not simply use const obj = {}?"></a>Q1: Why not simply use <code>const obj = &#123;&#125;</code>?</h3><p>Because objects created with <code>&#123;&#125;</code> have their prototype set to <code>Object.prototype</code>.<br>Objects created with <code>new</code> must have their prototype set to <strong>the constructor’s <code>prototype</code></strong>.</p>
<h3 id="Q2-Can-constructor-apply-be-replaced-with-call"><a href="#Q2-Can-constructor-apply-be-replaced-with-call" class="headerlink" title="Q2: Can constructor.apply be replaced with call?"></a>Q2: Can <code>constructor.apply</code> be replaced with <code>call</code>?</h3><p>Yes. The only difference is how arguments are passed:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">constructor.<span class="title function_">call</span>(obj, ...args);</span><br></pre></td></tr></table></figure>



<h3 id="Q3-How-does-instanceof-work"><a href="#Q3-How-does-instanceof-work" class="headerlink" title="Q3: How does instanceof work?"></a>Q3: How does <code>instanceof</code> work?</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p1 <span class="keyword">instanceof</span> <span class="title class_">Person</span></span><br></pre></td></tr></table></figure>

<p>Internally, JavaScript checks whether:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span> exists <span class="keyword">in</span> p1’s prototype chain</span><br></pre></td></tr></table></figure>



<h2 id="8-Summary"><a href="#8-Summary" class="headerlink" title="8. Summary"></a>8. Summary</h2><ul>
<li>The <code>new</code> operator is not magic—it follows a well-defined execution process</li>
<li>Handwriting <code>new</code> is one of the best ways to understand <strong>prototype chains, <code>this</code>, and constructors</strong></li>
<li>Mastering this concept helps when learning Vue, React, and Node.js internals</li>
</ul>
<p>If you can both <strong>write and explain</strong> this implementation,<br><strong>90% of interviewers will consider your JavaScript fundamentals solid</strong>.</p>

      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://lidyaqf.github.io/2025/12/02/js%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="lidya">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My English Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/12/02/js%E5%9F%BA%E7%A1%80/" class="post-title-link" itemprop="url">JavaScript Basics</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-12-02 00:00:00" itemprop="dateCreated datePublished" datetime="2025-12-02T00:00:00+08:00">2025-12-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-12-22 15:34:08" itemprop="dateModified" datetime="2025-12-22T15:34:08+08:00">2025-12-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Frontend/" itemprop="url" rel="index"><span itemprop="name">Frontend</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="JavaScript-Basics-Summary-Hoisting-Strict-Mode"><a href="#JavaScript-Basics-Summary-Hoisting-Strict-Mode" class="headerlink" title="JavaScript Basics Summary (Hoisting, Strict Mode)"></a>JavaScript Basics Summary (Hoisting, Strict Mode)</h1><hr>
<h2 id="Rules-for-Variable-and-Function-Hoisting"><a href="#Rules-for-Variable-and-Function-Hoisting" class="headerlink" title="Rules for Variable and Function Hoisting"></a>Rules for Variable and Function Hoisting</h2><ul>
<li><strong>Variable hoisting</strong>: Execution still happens in order; variable <strong>declarations</strong> are hoisted but <strong>assignments are not</strong>.</li>
<li><strong>Function hoisting</strong>: The <strong>entire function body</strong> is hoisted to the top of its scope.</li>
<li><strong>Priority</strong>: Function hoisting &gt; Variable hoisting.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>(); <span class="comment">// works normally</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Function hoisting succeeded&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Using-Strict-Mode-with-use-strict"><a href="#Using-Strict-Mode-with-use-strict" class="headerlink" title="Using Strict Mode with use strict"></a>Using Strict Mode with <code>use strict</code></h2><h3 id="What-it-does"><a href="#What-it-does" class="headerlink" title="What it does:"></a>What it does:</h3><ul>
<li>Prevents creating <strong>accidental global variables</strong>;</li>
<li>Disallows using undeclared variables, helping avoid memory leaks;</li>
<li>Binds <code>this</code> to <code>undefined</code> by default instead of <code>window</code>.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="string">&quot;use strict&quot;</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>); <span class="comment">// ❌ TypeError</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="title function_">foo</span>(); <span class="comment">// in strict mode, this is undefined, so this.a cannot be read</span></span><br></pre></td></tr></table></figure>

<hr>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="string">&quot;use strict&quot;</span>;</span><br><span class="line">  <span class="title function_">foo</span>(); <span class="comment">// calling foo here doesn&#x27;t change its default binding</span></span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://lidyaqf.github.io/2025/10/17/%E5%A6%82%E4%BD%95%E9%98%B2%E5%BE%A1%20XSS%EF%BC%88%E8%B7%A8%E7%AB%99%E8%84%9A%E6%9C%AC%E6%94%BB%E5%87%BB%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="lidya">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My English Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/10/17/%E5%A6%82%E4%BD%95%E9%98%B2%E5%BE%A1%20XSS%EF%BC%88%E8%B7%A8%E7%AB%99%E8%84%9A%E6%9C%AC%E6%94%BB%E5%87%BB%EF%BC%89/" class="post-title-link" itemprop="url">How to Prevent XSS</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-10-17 00:00:00" itemprop="dateCreated datePublished" datetime="2025-10-17T00:00:00+08:00">2025-10-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-12-22 14:26:25" itemprop="dateModified" datetime="2025-12-22T14:26:25+08:00">2025-12-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Frontend/" itemprop="url" rel="index"><span itemprop="name">Frontend</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>In web development, <strong>XSS (Cross-Site Scripting)</strong> is one of the most common and most dangerous security vulnerabilities.<br>Once a website contains an XSS flaw, attackers may execute malicious scripts in users’ browsers, allowing them to steal cookies, hijack sessions, deface pages, or even take over user accounts.</p>
<p>This article explains <strong>how to effectively defend against XSS attacks</strong> from both a <strong>theoretical and practical perspective</strong>, covering frontend and full-stack security best practices.</p>
<h2 id="1-What-Is-an-XSS-Attack"><a href="#1-What-Is-an-XSS-Attack" class="headerlink" title="1. What Is an XSS Attack?"></a>1. What Is an XSS Attack?</h2><p>The essence of XSS is simple:</p>
<blockquote>
<p><strong>An attacker injects malicious JavaScript into a webpage, which is then executed in other users’ browsers.</strong></p>
</blockquote>
<p>Common types of XSS attacks include:</p>
<ul>
<li><strong>Reflected XSS</strong>: malicious scripts are delivered through URL parameters</li>
<li><strong>Stored XSS</strong>: malicious scripts are stored in a database and served to users</li>
<li><strong>DOM-based XSS</strong>: frontend JavaScript logic directly handles untrusted data</li>
</ul>
<p>No matter the type, the root cause is the same:<br>👉 <strong>User input is treated as executable code.</strong></p>
<h2 id="2-Input-Validation-and-Filtering-The-Most-Basic-Defense"><a href="#2-Input-Validation-and-Filtering-The-Most-Basic-Defense" class="headerlink" title="2. Input Validation and Filtering (The Most Basic Defense)"></a>2. Input Validation and Filtering (The Most Basic Defense)</h2><p><strong>Never trust user input.</strong></p>
<h3 id="1-Basic-Frontend-Validation"><a href="#1-Basic-Frontend-Validation" class="headerlink" title="1. Basic Frontend Validation"></a>1. Basic Frontend Validation</h3><p>On the frontend, basic validation can improve user experience, such as:</p>
<ul>
<li>Limiting input length</li>
<li>Enforcing input formats (e.g., email, phone numbers)</li>
<li>Filtering obviously dangerous characters</li>
</ul>
<p>Example (for basic validation only):</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sanitizeInput</span>(<span class="params">input</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> input.<span class="title function_">replace</span>(<span class="regexp">/[&lt;&gt;]/g</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>⚠️ Important:<br><strong>Frontend validation is not a security boundary and should never be relied on alone.</strong></p>
<h3 id="2-Strict-Backend-Validation-Critical"><a href="#2-Strict-Backend-Validation-Critical" class="headerlink" title="2. Strict Backend Validation (Critical)"></a>2. Strict Backend Validation (Critical)</h3><p>Effective input validation <strong>must be performed on the server side</strong>:</p>
<ul>
<li>Validate data types</li>
<li>Enforce length constraints</li>
<li>Reject inputs that violate business rules</li>
<li>Escape or sanitize HTML content using whitelists</li>
</ul>
<p>Recommended principles:</p>
<ul>
<li><strong>Deny by default</strong></li>
<li><strong>Whitelist over blacklist</strong></li>
</ul>
<h2 id="3-Output-Encoding-More-Important-Than-Input-Filtering"><a href="#3-Output-Encoding-More-Important-Than-Input-Filtering" class="headerlink" title="3. Output Encoding (More Important Than Input Filtering)"></a>3. Output Encoding (More Important Than Input Filtering)</h2><p>Many XSS vulnerabilities occur not because input is unsafe, but because <strong>output is handled incorrectly</strong>.</p>
<h3 id="1-HTML-Escaping-on-Output"><a href="#1-HTML-Escaping-on-Output" class="headerlink" title="1. HTML Escaping on Output"></a>1. HTML Escaping on Output</h3><p>When rendering user input, always encode HTML characters:</p>
<table>
<thead>
<tr>
<th>Character</th>
<th>Escaped Form</th>
</tr>
</thead>
<tbody><tr>
<td><code>&lt;</code></td>
<td><code>&amp;lt;</code></td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td><code>&amp;gt;</code></td>
</tr>
<tr>
<td><code>&quot;</code></td>
<td><code>&amp;quot;</code></td>
</tr>
<tr>
<td><code>&#39;</code></td>
<td><code>&amp;#39;</code></td>
</tr>
</tbody></table>
<p>Most modern template engines (Vue, React, Handlebars) <strong>escape output by default</strong>.<br>Do not disable this behavior unless absolutely necessary.</p>
<h3 id="2-Avoid-Dangerous-APIs"><a href="#2-Avoid-Dangerous-APIs" class="headerlink" title="2. Avoid Dangerous APIs"></a>2. Avoid Dangerous APIs</h3><p>Avoid patterns like:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="property">innerHTML</span> = userInput;</span><br></pre></td></tr></table></figure>

<p>Safer alternatives include:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="property">textContent</span> = userInput;</span><br></pre></td></tr></table></figure>

<p>Or:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> el = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">el.<span class="property">textContent</span> = userInput;</span><br><span class="line">container.<span class="title function_">appendChild</span>(el);</span><br></pre></td></tr></table></figure>



<h2 id="4-Use-Safe-APIs-and-Framework-Protections"><a href="#4-Use-Safe-APIs-and-Framework-Protections" class="headerlink" title="4. Use Safe APIs and Framework Protections"></a>4. Use Safe APIs and Framework Protections</h2><p>Modern frontend frameworks include built-in XSS protections.</p>
<h3 id="1-Default-Protections-in-React-and-Vue"><a href="#1-Default-Protections-in-React-and-Vue" class="headerlink" title="1. Default Protections in React and Vue"></a>1. Default Protections in React and Vue</h3><ul>
<li>JSX and template syntax escape output by default</li>
<li>Dangerous APIs are explicitly labeled (e.g., <code>v-html</code>, <code>dangerouslySetInnerHTML</code>)</li>
</ul>
<p>⚠️ If you use these APIs, you must ensure the content is <strong>100% trusted</strong>.</p>
<h3 id="2-Avoid-String-Based-HTML-Construction"><a href="#2-Avoid-String-Based-HTML-Construction" class="headerlink" title="2. Avoid String-Based HTML Construction"></a>2. Avoid String-Based HTML Construction</h3><p>❌ Unsafe example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">container.<span class="property">innerHTML</span> = <span class="string">`&lt;div&gt;<span class="subst">$&#123;userInput&#125;</span>&lt;/div&gt;`</span>;</span><br></pre></td></tr></table></figure>

<p>✅ Safe alternative:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> div = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">div.<span class="property">textContent</span> = userInput;</span><br><span class="line">container.<span class="title function_">appendChild</span>(div);</span><br></pre></td></tr></table></figure>



<h2 id="5-Use-Content-Security-Policy-CSP"><a href="#5-Use-Content-Security-Policy-CSP" class="headerlink" title="5. Use Content Security Policy (CSP)"></a>5. Use Content Security Policy (CSP)</h2><p><strong>Content Security Policy (CSP)</strong> is one of the most powerful defenses against XSS.</p>
<h3 id="1-What-CSP-Can-Do"><a href="#1-What-CSP-Can-Do" class="headerlink" title="1. What CSP Can Do"></a>1. What CSP Can Do</h3><ul>
<li>Block inline script execution</li>
<li>Restrict allowed script sources</li>
<li>Prevent loading malicious third-party resources</li>
</ul>
<p>Example HTTP header:</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Content-Security-Policy</span>:</span><br><span class="line">  default-src &#x27;self&#x27;;</span><br><span class="line">  script-src &#x27;self&#x27;;</span><br><span class="line">  object-src &#x27;none&#x27;;</span><br></pre></td></tr></table></figure>

<p>Even if an attacker injects a script, CSP can prevent the browser from executing it.</p>
<h3 id="2-Why-CSP-Is-So-Important"><a href="#2-Why-CSP-Is-So-Important" class="headerlink" title="2. Why CSP Is So Important"></a>2. Why CSP Is So Important</h3><p>Because it provides:</p>
<ul>
<li><strong>Browser-level protection</strong></li>
<li>A strong fallback even when application code has flaws</li>
</ul>
<h2 id="6-Use-HttpOnly-and-Secure-Cookies"><a href="#6-Use-HttpOnly-and-Secure-Cookies" class="headerlink" title="6. Use HttpOnly and Secure Cookies"></a>6. Use HttpOnly and Secure Cookies</h2><h3 id="1-Purpose-of-HttpOnly"><a href="#1-Purpose-of-HttpOnly" class="headerlink" title="1. Purpose of HttpOnly"></a>1. Purpose of HttpOnly</h3><p>When setting cookies, add the <code>HttpOnly</code> flag:</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Set-Cookie</span><span class="punctuation">: </span>sessionId=xxx; HttpOnly;</span><br></pre></td></tr></table></figure>

<p>This prevents JavaScript from accessing cookies, reducing the impact of XSS attacks.</p>
<h3 id="2-Combine-with-Secure-and-SameSite"><a href="#2-Combine-with-Secure-and-SameSite" class="headerlink" title="2. Combine with Secure and SameSite"></a>2. Combine with Secure and SameSite</h3><p>For stronger protection, also use:</p>
<ul>
<li><code>Secure</code></li>
<li><code>SameSite=Strict</code> or <code>Lax</code></li>
</ul>
<p>This significantly improves session security.</p>
<h2 id="7-Keep-Third-Party-Libraries-Up-to-Date"><a href="#7-Keep-Third-Party-Libraries-Up-to-Date" class="headerlink" title="7. Keep Third-Party Libraries Up to Date"></a>7. Keep Third-Party Libraries Up to Date</h2><p>In real-world projects, <strong>many XSS vulnerabilities come from third-party dependencies</strong>:</p>
<ul>
<li>Outdated UI components</li>
<li>Unmaintained plugins</li>
<li>Vulnerable npm packages</li>
</ul>
<p>Best practices:</p>
<ul>
<li>Update dependencies regularly</li>
<li>Use <code>npm audit</code></li>
<li>Monitor security advisories</li>
</ul>
<h2 id="8-Develop-Secure-Coding-Habits"><a href="#8-Develop-Secure-Coding-Habits" class="headerlink" title="8. Develop Secure Coding Habits"></a>8. Develop Secure Coding Habits</h2><p>Preventing XSS is not about a single technique, but about consistent habits:</p>
<ul>
<li>Never trust external input</li>
<li>Avoid <code>innerHTML</code> unless necessary</li>
<li>Do not ignore security warnings</li>
<li>Prioritize security over convenience</li>
</ul>
<h2 id="9-Summary"><a href="#9-Summary" class="headerlink" title="9. Summary"></a>9. Summary</h2><ul>
<li>XSS is one of the most common and dangerous web security threats</li>
<li>Effective protection requires <strong>frontend, backend, and browser-level defenses</strong></li>
<li>Input validation is only the beginning—<strong>safe output handling and CSP are critical</strong></li>
<li>Good security habits are more valuable than any single patch</li>
</ul>
<p>For frontend developers,<br><strong>understanding how to prevent XSS is a key step toward true professionalism.</strong></p>

      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://lidyaqf.github.io/2025/09/02/%E5%AE%9D%E5%A1%94%E5%AE%89%E8%A3%85puppeteer/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="lidya">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My English Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/09/02/%E5%AE%9D%E5%A1%94%E5%AE%89%E8%A3%85puppeteer/" class="post-title-link" itemprop="url">Installing Puppeteer on Baota Panel</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-09-02 00:00:00" itemprop="dateCreated datePublished" datetime="2025-09-02T00:00:00+08:00">2025-09-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2026-01-14 15:16:25" itemprop="dateModified" datetime="2026-01-14T15:16:25+08:00">2026-01-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Frontend/" itemprop="url" rel="index"><span itemprop="name">Frontend</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Installing-Puppeteer-on-Baota-CentOS-8"><a href="#Installing-Puppeteer-on-Baota-CentOS-8" class="headerlink" title="Installing Puppeteer on Baota (CentOS 8)"></a>Installing Puppeteer on Baota (CentOS 8)</h2><p>When using <strong>CentOS 8</strong>, <code>yum</code> may fail because CentOS 8 is no longer officially maintained.<br>To fix this, you need to <strong>switch the YUM mirror source</strong>, clear the cache, and rebuild it.</p>
<h3 id="1-Replace-the-YUM-repository-source"><a href="#1-Replace-the-YUM-repository-source" class="headerlink" title="1. Replace the YUM repository source"></a>1. Replace the YUM repository source</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-8.repo</span><br></pre></td></tr></table></figure>

<h3 id="2-Clean-YUM-cache"><a href="#2-Clean-YUM-cache" class="headerlink" title="2. Clean YUM cache"></a>2. Clean YUM cache</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum clean all</span><br></pre></td></tr></table></figure>

<h3 id="3-Rebuild-YUM-cache"><a href="#3-Rebuild-YUM-cache" class="headerlink" title="3. Rebuild YUM cache"></a>3. Rebuild YUM cache</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum makecache</span><br></pre></td></tr></table></figure>

<blockquote>
<p>⚠️ Note:<br>CentOS 8 has reached <strong>End of Life (EOL)</strong> and is no longer maintained.<br>You must rely on third-party mirror sources to continue using <code>yum</code>.</p>
</blockquote>
<h2 id="Puppeteer-Dependency-Download-Error"><a href="#Puppeteer-Dependency-Download-Error" class="headerlink" title="Puppeteer Dependency Download Error"></a>Puppeteer Dependency Download Error</h2><p>When installing <strong>Puppeteer</strong>, you may encounter errors while downloading Chromium dependencies.</p>
<p>You can refer to this article for details:<br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/ilizhu/p/14504049.html">https://www.cnblogs.com/ilizhu/p/14504049.html</a></p>
<h2 id="Puppeteer-Sandbox-Error"><a href="#Puppeteer-Sandbox-Error" class="headerlink" title="Puppeteer Sandbox Error"></a>Puppeteer Sandbox Error</h2><p>On some servers (such as Baota or other managed VPS environments), Puppeteer may fail to launch Chromium due to <strong>sandbox restrictions</strong>.</p>
<h3 id="Solution-Disable-sandbox-when-launching-Puppeteer"><a href="#Solution-Disable-sandbox-when-launching-Puppeteer" class="headerlink" title="Solution: Disable sandbox when launching Puppeteer"></a>Solution: Disable sandbox when launching Puppeteer</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Add launch arguments to disable sandbox</span></span><br><span class="line"><span class="keyword">const</span> browser = <span class="keyword">await</span> puppeteer.<span class="title function_">launch</span>(&#123;</span><br><span class="line">  <span class="attr">args</span>: [<span class="string">&#x27;--no-sandbox&#x27;</span>, <span class="string">&#x27;--disable-setuid-sandbox&#x27;</span>]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://lidyaqf.github.io/2025/08/28/google%20sheet%E5%90%8C%E6%AD%A5%E8%A1%A8%E6%A0%BC%E6%95%B0%E6%8D%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="lidya">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My English Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/08/28/google%20sheet%E5%90%8C%E6%AD%A5%E8%A1%A8%E6%A0%BC%E6%95%B0%E6%8D%AE/" class="post-title-link" itemprop="url">Sync Google Sheets Data Between Spreadsheets</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-08-28 00:00:00" itemprop="dateCreated datePublished" datetime="2025-08-28T00:00:00+08:00">2025-08-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2026-01-15 09:39:44" itemprop="dateModified" datetime="2026-01-15T09:39:44+08:00">2026-01-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Frontend/" itemprop="url" rel="index"><span itemprop="name">Frontend</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Sync-Google-Sheets-Data-Across-Multiple-Sheets"><a href="#Sync-Google-Sheets-Data-Across-Multiple-Sheets" class="headerlink" title="Sync Google Sheets Data Across Multiple Sheets"></a>Sync Google Sheets Data Across Multiple Sheets</h2><p>There is a requirement to <strong>synchronize all sheets from one Google Spreadsheet to another spreadsheet (including all sub-sheets)</strong>.</p>
<p>This is implemented using <strong>Google Sheets → Extensions → Apps Script</strong>.</p>
<h3 id="Why-synchronization-is-needed"><a href="#Why-synchronization-is-needed" class="headerlink" title="Why synchronization is needed"></a>Why synchronization is needed</h3><p>The <strong>source spreadsheet is read-only</strong> by default.<br>By synchronizing its data into another spreadsheet, the copied sheets can then be <strong>edited freely</strong>.</p>
<p><code>sourceSpreadsheetId</code> and <code>targetSpreadsheetId</code> are the IDs from the Google Sheets URL —<br>they are the long strings after <code>/d/</code> in the address bar.</p>
<h2 id="Apps-Script-Code-Example"><a href="#Apps-Script-Code-Example" class="headerlink" title="Apps Script Code Example"></a>Apps Script Code Example</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">synchronizeSheetsToAnotherFile</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> sourceSpreadsheetId = <span class="string">&quot;id1&quot;</span>;</span><br><span class="line">  <span class="keyword">const</span> targetSpreadsheetId = <span class="string">&quot;id2&quot;</span>; </span><br><span class="line">  <span class="comment">// Example: 1NOtSSvDwXrca8vqyZW6OqQJwGaCICMVguSz1-i72oqg</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> sourceSpreadsheet = <span class="title class_">SpreadsheetApp</span>.<span class="title function_">openById</span>(sourceSpreadsheetId);</span><br><span class="line">  <span class="keyword">const</span> targetSpreadsheet = <span class="title class_">SpreadsheetApp</span>.<span class="title function_">openById</span>(targetSpreadsheetId);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> sourceSheets = sourceSpreadsheet.<span class="title function_">getSheets</span>();</span><br><span class="line"></span><br><span class="line">  sourceSheets.<span class="title function_">forEach</span>(<span class="function"><span class="params">sheet</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> sheetName = sheet.<span class="title function_">getName</span>();</span><br><span class="line">    <span class="keyword">let</span> targetSheet = targetSpreadsheet.<span class="title function_">getSheetByName</span>(sheetName);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!targetSheet) &#123;</span><br><span class="line">      targetSheet = targetSpreadsheet.<span class="title function_">insertSheet</span>(sheetName);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      targetSheet.<span class="title function_">clear</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> range = sheet.<span class="title function_">getDataRange</span>();</span><br><span class="line">    <span class="keyword">const</span> displayValues = range.<span class="title function_">getDisplayValues</span>(); </span><br><span class="line">    <span class="keyword">const</span> formats = range.<span class="title function_">getBackgrounds</span>();        </span><br><span class="line">    <span class="keyword">const</span> fontWeights = range.<span class="title function_">getFontWeights</span>();    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> targetRange = targetSheet.<span class="title function_">getRange</span>(</span><br><span class="line">      <span class="number">1</span>,</span><br><span class="line">      <span class="number">1</span>,</span><br><span class="line">      displayValues.<span class="property">length</span>,</span><br><span class="line">      displayValues[<span class="number">0</span>].<span class="property">length</span></span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    targetRange.<span class="title function_">setValues</span>(displayValues);</span><br><span class="line">    targetRange.<span class="title function_">setBackgrounds</span>(formats);</span><br><span class="line">    targetRange.<span class="title function_">setFontWeights</span>(fontWeights);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://lidyaqf.github.io/2025/08/25/react%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1%E6%96%B9%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="lidya">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My English Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/08/25/react%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1%E6%96%B9%E5%BC%8F/" class="post-title-link" itemprop="url">React Component Communication Methods</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-08-25 00:00:00" itemprop="dateCreated datePublished" datetime="2025-08-25T00:00:00+08:00">2025-08-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2026-01-16 09:39:39" itemprop="dateModified" datetime="2026-01-16T09:39:39+08:00">2026-01-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Frontend/" itemprop="url" rel="index"><span itemprop="name">Frontend</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li><p><strong>Props and Callback Props</strong>:<br>Used for parent–child component communication. Child components receive data from parents via props. Parents pass callback functions to children, and children invoke these callbacks to send data back to the parent.</p>
</li>
<li><p><strong>Context API</strong>:<br>An API for sharing state across components without the need to pass props down through every level of the component tree.</p>
</li>
<li><p><strong>Redux or MobX</strong>:<br>For complex applications, state management libraries can be used to handle communication and shared state between components.</p>
</li>
<li><p><strong>Event Subscription Pattern</strong>:<br>Uses mechanisms such as <code>EventEmitter</code> or third-party libraries to implement publish–subscribe patterns for communication between non-related components.</p>
</li>
<li><p><strong>Hooks</strong>:<br>Some React Hooks, such as <code>useState</code>, can be used to share logic and state between components through custom hooks.</p>
</li>
</ul>

      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://lidyaqf.github.io/2025/08/21/%E4%B8%AD%E5%B0%8F%E5%AD%A6%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E6%95%99%E5%AD%A6%E6%A8%A1%E7%89%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="lidya">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My English Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/08/21/%E4%B8%AD%E5%B0%8F%E5%AD%A6%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E6%95%99%E5%AD%A6%E6%A8%A1%E7%89%88/" class="post-title-link" itemprop="url">Information Technology Teaching Template for Primary and Secondary Schools</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-08-21 00:00:00" itemprop="dateCreated datePublished" datetime="2025-08-21T00:00:00+08:00">2025-08-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2026-01-19 14:20:09" itemprop="dateModified" datetime="2026-01-19T14:20:09+08:00">2026-01-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Teacher-Certification/" itemprop="url" rel="index"><span itemprop="name">Teacher Certification</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Verbatim-Teaching-Script-“if-elif-Conditional-Statements”"><a href="#Verbatim-Teaching-Script-“if-elif-Conditional-Statements”" class="headerlink" title="Verbatim Teaching Script: “if-elif Conditional Statements”"></a><strong>Verbatim Teaching Script: “if-elif Conditional Statements”</strong></h1><p>    Students, just now the teacher noticed the class duty roster. From Monday to Friday, there are many diligent “little bees” on duty. I’d like to ask: which students are on duty on Monday? Please raise your hands. Yes, I see you. Now, students, do you remember who the students on duty on Monday are? That’s right, there are six students in total.</p>
<p>    Now suppose we take three classes as a unit and give you a student’s name. Can you quickly tell which day of the week this student is on duty? Do you have any good ideas? You there—yes, you mentioned memorizing it with a rhyme or mnemonic. Are there any better methods? You—right, we can use a program to output the result. So, what kind of statement should we use to represent multiple conditions? Today, we are going to learn another conditional statement in Python: <strong>if-elif-else</strong>.</p>
<p>    Next, please work in pairs with your desk mates. Analyze how to use if-elif-else to solve the problem of matching student names to duty days. You have 8 minutes. Begin.<br>Time’s up. While walking around, I saw everyone actively discussing. Which group would like to share your ideas? You, please. You said that we can input a student’s name and determine which day they are on duty by matching the name and outputting the corresponding weekday. Any additions? Group Five, please share. They suggested creating five arrays corresponding to Monday through Friday, placing each student’s name into the appropriate array, and then judging which day to output. That’s a very important point. Please sit down. Excellent work. It’s clear that everyone has previewed today’s lesson well.</p>
<p>    Next, let’s integrate everyone’s ideas. Please think independently and draw a flowchart. You have 5 minutes. Begin.<br>Time’s up. This student, please come up and present your flowchart. You explained that first we input the student’s name. If Xiaohua is in Monday’s array, then output Monday, and so on. Now, please try to write a multi-branch conditional statement. Here’s a hint from the teacher: use <strong>elif</strong> for additional conditional clauses. Let’s ask this student to write their answer on the blackboard. Students, compare it with your own code. Which parts need modification? You said the final <strong>elif</strong> should be changed to <strong>else</strong>, to indicate that when none of the conditions are met, the statements under <strong>else</strong> are executed. You also mentioned paying attention to indentation and colons. Very careful observations. I hope everyone writes carefully when coding. Now please use the if-elif statements you’ve learned to implement the algorithm you designed. I see that everyone has written it correctly and avoided the earlier issues.</p>
<p>    Now that we’ve written the statements, what is their execution process? Please discuss this in pairs. In a moment, we’ll ask one group to explain. You have 7 minutes. Begin.<br>I see students discussing quietly. Time’s up. Group Two, please explain the execution process. They used the flowchart to explain that the program checks each condition in order. If a condition is satisfied, it outputs the result; if none are satisfied, it outputs an error message. Their explanation combined diagrams and text and was very clear. Based on the flowchart on the screen, we can summarize the execution process of if-elif statements: the program starts from the <strong>if</strong> condition and checks conditions one by one. If a condition is true, the corresponding block of code is executed and the program exits the if structure. If the condition is false, it moves on to the next condition. If all conditions are false, the <strong>else</strong> block is executed.</p>
<p>    Now that we’ve finished learning the new knowledge, please write a complete program that implements this process. Students who finish early may think about real-life situations that require checking multiple conditions and write corresponding programs. Let’s invite some students to present their work. Some students approached the problem from a mathematics perspective, writing a program to compare three numbers and find the maximum. Others took inspiration from daily life and wrote a taxi fare calculation program. All of your programs were well-structured and correctly formatted.</p>
<p>    As today’s lesson comes to an end, what have you learned from this class? You said that you’ve learned the format and execution process of if-elif statements. It seems everyone has mastered today’s content. In fact, programming is very close to our daily life and studies, and it’s not as difficult as it may seem. The teacher hopes that you will continue to think actively and express your ideas in class just like today.</p>
<p>    Finally, here is a homework assignment: please compare the characteristics of the three types of if statements and organize them into a table.</p>
<p>    That’s all for today’s lesson. Goodbye, students.</p>

      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://lidyaqf.github.io/2025/07/16/node-rpc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="lidya">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My English Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/07/16/node-rpc/" class="post-title-link" itemprop="url">Talking About Node RPC</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-07-16 00:00:00" itemprop="dateCreated datePublished" datetime="2025-07-16T00:00:00+08:00">2025-07-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-12-03 14:36:43" itemprop="dateModified" datetime="2025-12-03T14:36:43+08:00">2025-12-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Backend/" itemprop="url" rel="index"><span itemprop="name">Backend</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h2 id="What-Is-Serialization"><a href="#What-Is-Serialization" class="headerlink" title="What Is Serialization"></a>What Is Serialization</h2><p>Data transmitted over a TCP channel can only be in binary form. So converting a data structure or an object into binary form is called <strong>serialization</strong>. The reverse process is called <strong>deserialization</strong>. The rules that define how they convert back and forth are called a <strong>protocol</strong>.</p>
<hr>
<h2 id="What-Is-RPC"><a href="#What-Is-RPC" class="headerlink" title="What Is RPC"></a>What Is RPC</h2><p>RPC stands for <strong>Remote Procedure Call</strong>. Most RPC systems are based on TCP. The general implementation flow is as follows:</p>
<ol>
<li>The frontend calls the corresponding interface through a Proxy. The Proxy converts information such as the RPC service name, method name, and parameters into an RPC Request object and passes it to the RPC framework.</li>
<li>The RPC framework serializes the RPC Request object into binary form according to the RPC protocol.</li>
<li>The RPC framework sends the binary data to the backend through a TCP channel.</li>
<li>The backend deserializes the binary data back into an RPC Request object.</li>
<li>The backend maps the deserialized data to the actual method it implements, passes in the parameters, obtains the result, and then packages it into an RPC Response object for the RPC framework.</li>
<li>The RPC framework serializes the RPC Response object into binary form according to the RPC protocol and sends it back to the frontend through the TCP channel.</li>
<li>After receiving the binary data, the frontend deserializes it into an RPC Response object, and the Proxy returns the result to the business code.</li>
</ol>

      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://lidyaqf.github.io/2025/06/30/%E9%81%87%E8%A7%81%E6%9C%AA%E7%9F%A5%E7%9A%84%E8%87%AA%E5%B7%B1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="lidya">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My English Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/30/%E9%81%87%E8%A7%81%E6%9C%AA%E7%9F%A5%E7%9A%84%E8%87%AA%E5%B7%B1/" class="post-title-link" itemprop="url">Encountering the Unknown Self</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-06-30 00:00:00" itemprop="dateCreated datePublished" datetime="2025-06-30T00:00:00+08:00">2025-06-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2026-01-15 10:46:24" itemprop="dateModified" datetime="2026-01-15T10:46:24+08:00">2026-01-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Reading/" itemprop="url" rel="index"><span itemprop="name">Reading</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Notes-on-Encountering-the-Unknown-Self"><a href="#Notes-on-Encountering-the-Unknown-Self" class="headerlink" title="Notes on Encountering the Unknown Self"></a>Notes on <em>Encountering the Unknown Self</em></h1><h2 id="What-is-the-“Unknown”"><a href="#What-is-the-“Unknown”" class="headerlink" title="What is the “Unknown”?"></a>What is the “Unknown”?</h2><p>The “self” refers to the “true self.” From the question “Who am I?” to the concept of “from existence to non-existence,” the entire book is structured around dialogues between Ruoling and a wise elder, revealing many profound life concepts.</p>
<hr>
<h2 id="Core-Concepts"><a href="#Core-Concepts" class="headerlink" title="Core Concepts"></a>Core Concepts</h2><ul>
<li><p><strong>There is no one outside—only yourself.</strong><br>All external situations are actually projections of your inner world.</p>
</li>
<li><p><strong>Golden Moments to Talk with the Subconscious</strong><br>The best times to imagine you’ve already achieved your goals are the moments between waking and sleeping—early morning just before fully waking up, or late at night before falling asleep. These times are when we are closest to our subconscious.</p>
</li>
<li><p><strong>Key Practices: Awareness, Surrender, Overcoming the Peptide Self (Ego)</strong></p>
<ul>
<li><strong>Awareness</strong>: Focus on your present self. Observe your emotions and reactions without judgment.</li>
<li><strong>Surrender</strong>: Accept reality instead of resisting it.</li>
<li><strong>Peptide Self (Ego)</strong>: Represents inner voices of fear, comparison, and anxiety. Learn to recognize and transcend them.</li>
</ul>
</li>
<li><p><strong>Meditation, Gratitude, Giving</strong></p>
<ul>
<li>During meditation, visualize yourself already living your desired life.</li>
<li>Be grateful even before your goals are achieved.</li>
<li>Maintain a selfless, giving mindset.</li>
</ul>
</li>
<li><p><strong>Care Less About Others, Care More About Yourself</strong></p>
<ul>
<li>Bring your attention back to yourself and your inner world.</li>
<li>When emotions arise, be aware of which part of your body feels uncomfortable and understand its message.</li>
</ul>
</li>
</ul>
<hr>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>This book is not only about discovering “who you are,” but also about reminding you to “become that true self.” Awakening inner strength requires continuous awareness, practice, and transcending the ego.</p>

      
    </div>

    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="lidya"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">lidya</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/ening/archives/">
        
          <span class="site-state-item-count">17</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/ening/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2026</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lidya</span>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    if (location.pathname.startsWith('/ening/')) {
      const item = document.querySelector('.menu-item-english');
      if (item) item.style.display = 'none';
    }
  });
</script>
        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


</body>
</html>
